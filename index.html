<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-16x16-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"code81192.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"manual","top_n_per_article":-1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="赖柄沣的技术博客">
<meta property="og:type" content="website">
<meta property="og:title" content="赖柄沣的技术博客">
<meta property="og:url" content="https://code81192.github.io/index.html">
<meta property="og:site_name" content="赖柄沣的技术博客">
<meta property="og:description" content="赖柄沣的技术博客">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="赖柄沣">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://code81192.github.io/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>赖柄沣的技术博客</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/rss2.xml" title="赖柄沣的技术博客" type="application/rss+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>
	<a href="https://code81192.github.io" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">赖柄沣的技术博客</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-resources">

    <a href="/resources/" rel="section"><i class="download fa-fw"></i>资源</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://code81192.github.io/2021/09/07/golang/07_go%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8_%E7%BB%93%E6%9E%84%E4%BD%93/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="赖柄沣">
      <meta itemprop="description" content="赖柄沣的技术博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="赖柄沣的技术博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/09/07/golang/07_go%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8_%E7%BB%93%E6%9E%84%E4%BD%93/" class="post-title-link" itemprop="url">go语言入门学习之结构体（struct）</a>
        </h2>

        <div class="post-meta">
		
			
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2021-09-07 22:57:26 / 修改时间：23:02:42" itemprop="dateCreated datePublished" datetime="2021-09-07T22:57:26+08:00">2021-09-07</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><img src="https://raw.githubusercontent.com/code81192/art-demo/master/art-img/girl-2366438_1920.jpg" alt="girl-2366438_1920"></p>
<h2 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a>写在前面</h2><p>在上一文<a href="https://code81192.github.io/2021/09/05/golang/06_go%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8_%E5%87%BD%E6%95%B0/">《Golang入门学习之函数》</a>当中，我们学习了Golang当中函数的用法。接下来，我们将一起来学习Golang的结构体与方法两部分内容。</p>
<h2 id="结构体的定义"><a href="#结构体的定义" class="headerlink" title="结构体的定义"></a>结构体的定义</h2><p><code>结构体</code>（struct）类似于其他面向对象当中类（class）的概念，但它和类有着明显的不同。结构体是<code>复合类型</code>（composite types），它由一系列属性组成，这些属性对应着不同的值与类型。组成结构体类型的那些数据称为<code>字段</code>(fields).</p>
<p>Golang通过结构体的形式支持用户自定义类型，或者叫定制类型。</p>
<p>定义方式：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> StructName <span class="keyword">struct</span> &#123;</span><br><span class="line">	field1 type1</span><br><span class="line">	field2 type2</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="结构体的实例化"><a href="#结构体的实例化" class="headerlink" title="结构体的实例化"></a>结构体的实例化</h2><h3 id="使用new"><a href="#使用new" class="headerlink" title="使用new()"></a>使用new()</h3><p>我们可以使用 <strong>new</strong> 函数给一个新的结构体变量分配内存，它返回指向已分配内存的指针。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> t *StructName</span><br><span class="line">t = <span class="built_in">new</span>(StructName)</span><br></pre></td></tr></table></figure>

<p>请看下面这个例子：</p>
<p>首先，我们在<code>go_code/struct/model</code>这个包当中，定义了一个结构体<code>Immortal</code>表示修仙者，并在<code>main</code>当中引入这个包，并使用<code>Immortal</code></p>
<p><code>go_code/struct/model/immortal.go</code>:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> model</span><br><span class="line"></span><br><span class="line"><span class="comment">// 修仙者</span></span><br><span class="line"><span class="keyword">type</span> Immortal <span class="keyword">struct</span> &#123;</span><br><span class="line">	Name <span class="keyword">string</span></span><br><span class="line">	Age <span class="keyword">int</span></span><br><span class="line">	Gender <span class="keyword">string</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>main中：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;go_code/struct/model&quot;</span></span><br><span class="line">	<span class="string">&quot;strconv&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">// i是指向model.Immortal结构体变量的指针</span></span><br><span class="line">	<span class="keyword">var</span> i *model.Immortal</span><br><span class="line">	i= <span class="built_in">new</span>(model.Immortal)</span><br><span class="line">	i.Age = <span class="number">500</span></span><br><span class="line">	i.Name = <span class="string">&quot;韩立&quot;</span></span><br><span class="line">	i.Gender = <span class="string">&quot;男&quot;</span></span><br><span class="line"></span><br><span class="line">	<span class="built_in">println</span>(i.Name, strconv.Itoa(i.Age)+<span class="string">&quot;岁&quot;</span>,i.Gender)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>输出： </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">韩立 500岁 男</span><br></pre></td></tr></table></figure>

<p>我们可以通过点符号获取结构体的值或给其赋值，点符号在Golang中称之为选择器符(selector-notation)。</p>
<h3 id="使用混合字面量语法"><a href="#使用混合字面量语法" class="headerlink" title="使用混合字面量语法"></a>使用混合字面量语法</h3><p>初始化一个结构体实例的更简短和惯用的方式如下：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// i的类型是 *model.Immortal</span></span><br><span class="line"><span class="keyword">var</span> i =  &amp;model.Immortal&#123;<span class="string">&quot;南宫婉&quot;</span>,<span class="number">18</span>,<span class="string">&quot;女&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 或者</span></span><br><span class="line"><span class="keyword">var</span> i model.Immortal</span><br><span class="line">i := model.Immortal&#123;<span class="string">&quot;南宫婉&quot;</span>,<span class="number">18</span>,<span class="string">&quot;女&quot;</span>&#125;</span><br></pre></td></tr></table></figure>

<p>上面这两个例子当中的写法(<code>&amp;model.Immortal&#123;&quot;南宫婉&quot;,18,&quot;女&quot;&#125;</code> )称之为<code>混合字面量语法</code> （composite literal sysntax），这是一种简写，底层仍然会调用new函数。在这种写法当中，需要注意的一点是<strong>值的顺序必须按照字段顺序来写</strong>。表达式<code>new(Type)</code>和<code>&amp;Type()</code>是等价的。</p>
<h2 id="Golang中结构体的特点"><a href="#Golang中结构体的特点" class="headerlink" title="Golang中结构体的特点"></a>Golang中结构体的特点</h2><h2 id="内存布局"><a href="#内存布局" class="headerlink" title="内存布局"></a>内存布局</h2><p>Go 语言中，结构体和它所包含的数据在内存中是以连续块的形式存在的，即使结构体中嵌套有其他的结构体，这在性能上带来了很大的优势。</p>
<h3 id="递归结构体"><a href="#递归结构体" class="headerlink" title="递归结构体"></a>递归结构体</h3><p>结构体类型可以通过引用自身来定义。这在定义链表或二叉树的元素（通常叫节点）时特别有用，此时节点包含指向临近节点的链接（地址）。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> model</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Node <span class="keyword">struct</span> &#123;</span><br><span class="line">	data <span class="keyword">string</span></span><br><span class="line">	next *Node</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>其中，data字段当中存储的是当前节点的数据，next是指向下一个节点的指针</p>
<h3 id="结构体的转换"><a href="#结构体的转换" class="headerlink" title="结构体的转换"></a>结构体的转换</h3><p>Go 中的类型转换遵循严格的规则。当为结构体定义了一个 <code>alias</code> 类型时，此结构体类型和它的 alias 类型都有相同的底层类型。</p>
<p>请看下面的这个例子：</p>
<p><code>number.go</code> </p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> model</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Number <span class="keyword">struct</span> &#123;</span><br><span class="line">	Value <span class="keyword">float32</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>conversion.go</code>:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;go_code/struct/model&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> a = myNumber&#123;Value: <span class="number">18.0</span>&#125;</span><br><span class="line">	b := model.Number(a)</span><br><span class="line">	<span class="built_in">println</span>(b.Value)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> myNumber model.Number</span><br></pre></td></tr></table></figure>

<h2 id="使用工厂方法创建结构体实例"><a href="#使用工厂方法创建结构体实例" class="headerlink" title="使用工厂方法创建结构体实例"></a>使用工厂方法创建结构体实例</h2><p>Golang不支持其他面向对象编程语言（例如Java）那样的构造方法。我们通常通过定义一个构造工厂方法用于创建结构体实例。</p>
<p>请看下面的例子：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> model</span><br><span class="line"></span><br><span class="line"><span class="comment">// 修仙者</span></span><br><span class="line"><span class="keyword">type</span> Immortal <span class="keyword">struct</span> &#123;</span><br><span class="line">	Name <span class="keyword">string</span></span><br><span class="line">	Age <span class="keyword">int</span></span><br><span class="line">	Gender <span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewImmortal</span><span class="params">(age <span class="keyword">int</span>, name, gender <span class="keyword">string</span>)</span> *<span class="title">Immortal</span></span> &#123;</span><br><span class="line">	<span class="keyword">if</span> age&lt;<span class="number">0</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> &amp;Immortal&#123;Name: name,Gender: name,Age: age&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>对于工厂方法的命名，我们一般以<code>New</code>或<code>new</code>开头，它返回一个指向结构体实例的指针</p>
<h3 id="如何强制使用工厂方法而不是直接new？"><a href="#如何强制使用工厂方法而不是直接new？" class="headerlink" title="如何强制使用工厂方法而不是直接new？"></a>如何强制使用工厂方法而不是直接new？</h3><p>在讲这个问题之前，需要给大家补充一个知识点，那就是Golang当中包的可见性规则：</p>
<p>在Golang中，当标识符（包括常量、变量、类型、函数名、结构字段等等）以一个大写字母开头，如：Group1，那么使用这种形式的标识符的对象就可以被外部包的代码所使用（客户端程序需要先导入这个包），这被称为导出（像面向对象语言中的 public）；标识符如果以小写字母开头，则对包外是不可见的，但是他们在整个包的内部是可见并且可用的（像面向对象语言中的 private ）。</p>
<p>因此，为了达到我们的目的，我们需要这样去定义我们的结构体：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> v2</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> immortal <span class="keyword">struct</span> &#123;</span><br><span class="line">	name <span class="keyword">string</span></span><br><span class="line">	age <span class="keyword">int</span></span><br><span class="line">	gender <span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewImmortal</span><span class="params">(age <span class="keyword">int</span>, name, gender <span class="keyword">string</span>)</span> *<span class="title">immortal</span></span> &#123;</span><br><span class="line">	<span class="keyword">if</span> age &lt; <span class="number">0</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> &amp;immortal&#123;</span><br><span class="line">		name:   name,</span><br><span class="line">		age:    age,</span><br><span class="line">		gender: gender,</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="带标签的结构体"><a href="#带标签的结构体" class="headerlink" title="带标签的结构体"></a>带标签的结构体</h2><p>结构体中的字段除了有名字和类型外，还可以有一个可选的标签（tag）：它是一个附属于字段的字符串，可以是文档或其他的重要标记。标签的内容不可以在一般的编程中使用，只有包 <code>reflect</code> 能获取它。在gorm（一个Golng的orm框架，类似于Java当中的<code>mybatis</code>）当中使用tag标记字段，从而起到映射数据库表字段的作用。</p>
<p>请看下面这个例子:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> tag</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;reflect&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Immortal <span class="keyword">struct</span> &#123;</span><br><span class="line">	Name <span class="keyword">string</span> <span class="string">&quot;休仙者的名字&quot;</span></span><br><span class="line">	Age <span class="keyword">int</span> <span class="string">&quot;修仙者的年龄&quot;</span></span><br><span class="line">	Gender <span class="keyword">string</span> <span class="string">&quot;修仙者的性别&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">PrintTag</span><span class="params">(im Immortal, i <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">	imm :=reflect.TypeOf(im)</span><br><span class="line">	value :=imm.Field(i)</span><br><span class="line">	fmt.Println(value.Tag)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;go_code/struct/model/tag&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> immortal = tag.Immortal&#123;Name: <span class="string">&quot;南宫婉&quot;</span>, Age: <span class="number">18</span>, Gender: <span class="string">&quot;女&quot;</span>&#125;</span><br><span class="line">	<span class="keyword">for</span> i:=<span class="number">0</span>; i&lt;<span class="number">3</span>; i++ &#123;</span><br><span class="line">		tag.PrintTag(immortal,i)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">休仙者的名字</span><br><span class="line">修仙者的年龄</span><br><span class="line">修仙者的性别</span><br></pre></td></tr></table></figure>

<h2 id="匿名字段和内嵌结构体"><a href="#匿名字段和内嵌结构体" class="headerlink" title="匿名字段和内嵌结构体"></a>匿名字段和内嵌结构体</h2><p>结构体可以包含一个或多个 <strong>匿名（或内嵌）字段</strong>，即这些字段没有显式的名字，只有字段的类型是必须的，此时类型就是字段的名字。匿名字段本身可以是一个结构体类型，即 <strong>结构体可以包含内嵌结构体</strong>。在Golang当中，通过组合来实现其他面向对象编程语言当中的继承。</p>
<p>请看下面的例子</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> immortal <span class="keyword">struct</span> &#123;</span><br><span class="line">	<span class="comment">// 姓名</span></span><br><span class="line">	<span class="keyword">string</span></span><br><span class="line">	<span class="comment">// 年龄</span></span><br><span class="line">	<span class="keyword">int</span></span><br><span class="line">	<span class="comment">// 修仙境界</span></span><br><span class="line">	level</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> level <span class="keyword">struct</span> &#123;</span><br><span class="line">	<span class="comment">// 境界名称</span></span><br><span class="line">	<span class="keyword">string</span></span><br><span class="line">	<span class="comment">// 灵气值</span></span><br><span class="line">	<span class="keyword">float32</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> im = immortal&#123;</span><br><span class="line">		<span class="keyword">string</span>: <span class="string">&quot;韩立&quot;</span>,</span><br><span class="line">		<span class="keyword">int</span>:    <span class="number">500</span>,</span><br><span class="line">		level:  level&#123;</span><br><span class="line">			<span class="string">&quot;练气七层&quot;</span>,</span><br><span class="line">			<span class="number">7800.0</span>,</span><br><span class="line">		&#125;,</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(<span class="string">&quot;======修仙者资料卡======&quot;</span>)</span><br><span class="line">	fmt.Println(<span class="string">&quot;姓名：&quot;</span>,im.<span class="keyword">string</span>)</span><br><span class="line">	fmt.Println(<span class="string">&quot;年龄：&quot;</span>,im.<span class="keyword">int</span>)</span><br><span class="line">	fmt.Println(<span class="string">&quot;------境界信息---------&quot;</span>)</span><br><span class="line">	fmt.Println(<span class="string">&quot;境界名称：&quot;</span>,im.level.<span class="keyword">string</span>)</span><br><span class="line">	fmt.Println(<span class="string">&quot;境界灵气值：&quot;</span>,im.level.<span class="keyword">float32</span>)</span><br><span class="line">	fmt.Println(<span class="string">&quot;------境界信息---------&quot;</span>)</span><br><span class="line">	fmt.Println(<span class="string">&quot;======修仙者资料卡======&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">======修仙者资料卡======</span><br><span class="line">姓名： 韩立</span><br><span class="line">年龄： <span class="number">500</span></span><br><span class="line">------境界信息---------</span><br><span class="line">境界名称： 练气七层</span><br><span class="line">境界灵气值： <span class="number">7800</span></span><br><span class="line">------境界信息---------</span><br><span class="line">======修仙者资料卡======</span><br></pre></td></tr></table></figure>

<h2 id="写在最后"><a href="#写在最后" class="headerlink" title="写在最后"></a>写在最后</h2><p>关于Golang结构体的学习就写到这里，本文当中涉及到的例子可以<a target="_blank" rel="noopener" href="https://github.com/code81192/golang">点击此处下载</a>。如果我的学习笔记能够给你带来帮助，还请多多点赞鼓励。文章如有错漏之处还请各位小伙伴帮忙斧正。</p>

      
    </div>

    
    
    
	 
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://code81192.github.io/2021/09/05/golang/06_go%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8_%E5%87%BD%E6%95%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="赖柄沣">
      <meta itemprop="description" content="赖柄沣的技术博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="赖柄沣的技术博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/09/05/golang/06_go%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8_%E5%87%BD%E6%95%B0/" class="post-title-link" itemprop="url">Golang入门学习之函数</a>
        </h2>

        <div class="post-meta">
		
			
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2021-09-05 13:44:43 / 修改时间：13:51:44" itemprop="dateCreated datePublished" datetime="2021-09-05T13:44:43+08:00">2021-09-05</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><img src="https://raw.githubusercontent.com/code81192/art-demo/master/art-img/woman-6572974_1920.jpg" alt="woman-6572974_1920"></p>
<h2 id="Golang-中函数的定义"><a href="#Golang-中函数的定义" class="headerlink" title="Golang 中函数的定义"></a>Golang 中函数的定义</h2><p>在编程语言中，函数是一段可复用的代码段，它由函数名、参数和返回值三部分构成。在golang当中，函数分为自定义函数和系统函数两大类。自定义函数就是你自己写的函数，系统函数就是系统原有的函数。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> 函数名<span class="params">(形参列表)</span><span class="params">(返回值列表)</span></span>&#123;</span><br><span class="line">    函数体</span><br><span class="line">    <span class="keyword">return</span> 返回值列表</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>说明：</code></p>
<p>a. 函数名：由字母、数字、下划线组成。但函数名的第一个字母不能是数字。在同一个包内，函数名也称不能重名;</p>
<p>b. 形参列表：形参列表也就是参数，参数由参数变量和参数类型组成，多个参数之间使用<code>,</code>隔开;</p>
<p>c. 返回值：返回值由返回值类型及其变量组成，也可以只写返回值类型，存在多个返回值时必须使用<code>()</code>括起来，并在其中用<code>,</code>分隔</p>
<p>d. 函数体： 实现特定功能、业务逻辑的代码块。</p>
<p>顺嘴说一句，<code>函数</code>是面向过程的概念，在面向对象语言中，称之为<code>方法</code></p>
<h2 id="Golang中函数的调用"><a href="#Golang中函数的调用" class="headerlink" title="Golang中函数的调用"></a>Golang中函数的调用</h2><p>对于同一个包中的函数，我们可以使用<code>函数名(参数)</code>的形式调用。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	sayHello(<span class="string">&quot;厉飞羽&quot;</span>)</span><br><span class="line">	s := getPhoneByName(<span class="string">&quot;南宫婉&quot;</span>)</span><br><span class="line">	fmt.Println(s)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sayHello</span><span class="params">(name <span class="keyword">string</span>)</span></span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">&quot;你好！&quot;</span>,name)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getPhoneByName</span><span class="params">(name <span class="keyword">string</span>)</span> <span class="title">string</span></span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> name+<span class="string">&quot; 的手机号是 &quot;</span> + <span class="string">&quot;120-6379-3306&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">你好！ 厉飞羽</span><br><span class="line">南宫婉 的手机号是 <span class="number">120</span><span class="number">-6379</span><span class="number">-3306</span></span><br></pre></td></tr></table></figure>

<p>在不同包中，我们可以通过<code>包名.方法名()</code>来调用函数。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> myMath</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Add</span><span class="params">(number ...<span class="keyword">int</span>)</span> <span class="params">(sum <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">	sum = <span class="number">0</span></span><br><span class="line">	<span class="keyword">for</span> _, num := <span class="keyword">range</span> number &#123;</span><br><span class="line">		sum = sum + num</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;go_code/function/myMath&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	sum := myMath.Add(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line">	<span class="built_in">print</span>(sum)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">6</span><br></pre></td></tr></table></figure>



<h2 id="参数进阶用法"><a href="#参数进阶用法" class="headerlink" title="参数进阶用法"></a>参数进阶用法</h2><h3 id="类型简写"><a href="#类型简写" class="headerlink" title="类型简写"></a>类型简写</h3><p>Golang中，对于相邻的参数，如果其类型相同，可以简写</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sayHello2</span><span class="params">(name1 ,name2 <span class="keyword">string</span>)</span></span>  &#123;</span><br><span class="line">	fmt.Println(<span class="string">&quot;你们好！&quot;</span>,name1,name2)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	sayHello2(<span class="string">&quot;厉飞羽&quot;</span>,<span class="string">&quot;韩立&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">你们好！ 厉飞羽 韩立</span><br></pre></td></tr></table></figure>



<h3 id="可变参数"><a href="#可变参数" class="headerlink" title="可变参数"></a>可变参数</h3><p>可变参数是指函数的参数数量不固定。Golang中的可变参数通过在参数名后加<code>...</code>来标识。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sayHello3</span><span class="params">(name ...<span class="keyword">string</span>)</span></span> &#123;</span><br><span class="line">	<span class="keyword">for</span> _, s := <span class="keyword">range</span> name &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;你好！&quot;</span>,s)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	sayHello3(<span class="string">&quot;厉飞羽&quot;</span>,<span class="string">&quot;韩立&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">你好！ 厉飞羽</span><br><span class="line">你好！ 韩立</span><br></pre></td></tr></table></figure>

<h2 id="函数返回值"><a href="#函数返回值" class="headerlink" title="函数返回值"></a>函数返回值</h2><p>在golang中，函数的返回值可以有多个。通过<code>return</code> 关键字返回数据。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getPhoneByName</span><span class="params">(name <span class="keyword">string</span>)</span> <span class="title">string</span></span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> name+<span class="string">&quot; 的手机号是 &quot;</span> + <span class="string">&quot;120-6379-3306&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getPhoneByName2</span><span class="params">(name <span class="keyword">string</span>)</span> <span class="params">(str <span class="keyword">string</span>)</span></span>&#123;</span><br><span class="line">	str = name+<span class="string">&quot; 的手机号是 &quot;</span> + <span class="string">&quot;120-6379-3306&quot;</span></span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	</span><br><span class="line">	s1 := getPhoneByName(<span class="string">&quot;南宫婉&quot;</span>)</span><br><span class="line">	fmt.Println(s1)</span><br><span class="line">	s2 := getPhoneByName2(<span class="string">&quot;南宫婉&quot;</span>)</span><br><span class="line">	fmt.Println(s2)</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">南宫婉 的手机号是 120-6379-3306</span><br><span class="line">南宫婉 的手机号是 120-6379-3306</span><br></pre></td></tr></table></figure>

<p>说明：</p>
<p>在Golang当中。对于返回值，函数定义时可以给返回值命名，并可以直接<code>return</code> </p>
<h2 id="将函数作为参数"><a href="#将函数作为参数" class="headerlink" title="将函数作为参数"></a>将函数作为参数</h2><p>在Golang当中，函数可以作为参数去传递，然后在其他函数内调用执行，这一般称之为回调。请看下面的这个例子：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	name := <span class="string">&quot;喜小乐&quot;</span></span><br><span class="line">	sayHello(name,callback)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">callback</span><span class="params">(name <span class="keyword">string</span>)</span></span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">&quot;hello &quot;</span>,name)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sayHello</span><span class="params">(name <span class="keyword">string</span>,f <span class="keyword">func</span>(name <span class="keyword">string</span>)</span>)</span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">&quot;我是&quot;</span>,name)</span><br><span class="line">	f(name)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">我是 喜小乐</span><br><span class="line">hello  喜小乐</span><br></pre></td></tr></table></figure>

<h2 id="defer关键词"><a href="#defer关键词" class="headerlink" title="defer关键词"></a>defer关键词</h2><p><code>defer</code> 关键词允许我们推迟到函数返回之前（或任意位置执行<code>return</code> 语句之后）一刻才执行某个语句或函数。</p>
<p>请看下面的例子：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	sayHello(<span class="string">&quot;南宫婉&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sayHello</span><span class="params">(name <span class="keyword">string</span>)</span></span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">&quot;before&quot;</span>)</span><br><span class="line">	<span class="keyword">defer</span> fun1()</span><br><span class="line">	fmt.Println(<span class="string">&quot;after&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">fun1</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">&quot;hello world!&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">before</span><br><span class="line">after</span><br><span class="line">hello world!</span><br></pre></td></tr></table></figure>

<p><code>defer</code> 关键词的用法类似于Java语言当中的<code>finally</code> 关键词，它经常用来释放某些已分配的资源。例如释放锁操作、关闭数据库连接等等。</p>
<h2 id="匿名函数与闭包"><a href="#匿名函数与闭包" class="headerlink" title="匿名函数与闭包"></a>匿名函数与闭包</h2><p>当我们不想给函数命名的时候，我们可以使用匿名函数（可以理解为没有名字的函数），也称之为闭包。在Golang当中，匿名函数是不能单独存在的，你必须将其赋值给某一变量（将函数的地址保存在变量当中），然后通过变量名对函数进行调用。请看下面的例子：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">	fun := <span class="function"><span class="keyword">func</span> <span class="params">(name <span class="keyword">string</span>)</span></span>&#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;Hello&quot;</span>,name)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	fun(<span class="string">&quot;向北&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Hello 向北</span><br></pre></td></tr></table></figure>

<h2 id="闭包的应用：将函数作为返回值"><a href="#闭包的应用：将函数作为返回值" class="headerlink" title="闭包的应用：将函数作为返回值"></a>闭包的应用：将函数作为返回值</h2><p>在前面我们讲到，函数可以作为它可以参数进行传递，同样，函数还可以作为返回值。请看下面的例子:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">	getPhone := sayHello(<span class="string">&quot;厉飞羽&quot;</span>)</span><br><span class="line">	</span><br><span class="line">	getPhone()</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sayHello</span><span class="params">(name <span class="keyword">string</span>)</span> <span class="params">(<span class="keyword">func</span>()</span>)</span> &#123;</span><br><span class="line">	<span class="built_in">println</span>(<span class="string">&quot;你好！&quot;</span>,name)</span><br><span class="line">	<span class="keyword">return</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">		<span class="built_in">println</span>(<span class="string">&quot;我的手机号是： 131****3901&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">你好！ 厉飞羽</span><br><span class="line">我的手机号是： 131****3901</span><br></pre></td></tr></table></figure>

<p>在Golang中，一个返回值为另一个函数的函数可以被称之为<em>工厂函数</em> ，例如上方例子当中的<code>sayHello</code> . 可以返回其它函数的函数和接受其它函数作为参数的函数均被称之为<code>高阶函数</code>，是函数式语言的特点。</p>
<h2 id="写在最后"><a href="#写在最后" class="headerlink" title="写在最后"></a>写在最后</h2><p>关于Golang的函数部分学习就暂时写到这，本文的例子可以<a target="_blank" rel="noopener" href="https://github.com/code81192/golang">点击此处下载</a>。如果我的学习笔记能够给你带来帮助，还请多多点赞鼓励。文章如有错漏之处还请各位小伙伴帮忙斧正。</p>

      
    </div>

    
    
    
	 
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://code81192.github.io/2021/08/23/golang/05_go%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8_map/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="赖柄沣">
      <meta itemprop="description" content="赖柄沣的技术博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="赖柄沣的技术博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/08/23/golang/05_go%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8_map/" class="post-title-link" itemprop="url">go语言入门之map</a>
        </h2>

        <div class="post-meta">
		
			
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2021-08-23 00:36:44 / 修改时间：00:37:43" itemprop="dateCreated datePublished" datetime="2021-08-23T00:36:44+08:00">2021-08-23</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a>写在前面</h2><p>之前说好的每周更新一次技术博客，但是由于种种原因一直推迟到现在… …🐶</p>
<p>有一句话，我一直把它当作我的座右铭，写在这里与诸君共勉：业精于勤荒于嬉，行成于思毁于随。</p>
<p>废话不多说，开始我们今天的学习。</p>
<h2 id="什么是map"><a href="#什么是map" class="headerlink" title="什么是map"></a>什么是map</h2><p>map是一种无序的、基于键值对&lt;key,value&gt;的数据结构，又称之为字段或关联数组。</p>
<p>在Go语言当中，map是引用类型，必须初始化后才能使用，其内部也是使用散列表来实现的。</p>
<h2 id="map的定义与使用"><a href="#map的定义与使用" class="headerlink" title="map的定义与使用"></a>map的定义与使用</h2><h3 id="第一种方式：通过map关键字定义"><a href="#第一种方式：通过map关键字定义" class="headerlink" title="第一种方式：通过map关键字定义"></a>第一种方式：通过map关键字定义</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// var mapname map[keytype]valuetype</span></span><br><span class="line"><span class="keyword">var</span> <span class="keyword">map</span> <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span></span><br></pre></td></tr></table></figure>

<p>其中：</p>
<ol>
<li><code>mapName</code> 为变量名</li>
<li><code>keyType</code> 为key的数据类型。key的数据类型可以是bool、数字、string、指针、channel、接口、结构体和数组</li>
<li><code>valueType</code>为值的数据类型。value包含的数据类型与key一样，通常为string、结构体和map</li>
</ol>
<p><strong>注意：</strong> </p>
<pre><code>1. 声明不会分配内存，需要使用make来初始化后才能使用。
2. 对于上述的key是不可以重复的，value则是可以重复的。
</code></pre>
<h4 id="举个例子"><a href="#举个例子" class="headerlink" title="举个例子"></a>举个例子</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 通过map关键字生命map</span></span><br><span class="line">	<span class="keyword">var</span> peopleMap <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// 初始化</span></span><br><span class="line">	peopleMap = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>, <span class="number">4</span>)</span><br><span class="line"></span><br><span class="line">	peopleMap[<span class="string">&quot;01&quot;</span>] = <span class="string">&quot;喜小乐&quot;</span></span><br><span class="line">	peopleMap[<span class="string">&quot;02&quot;</span>] = <span class="string">&quot;东小贝&quot;</span></span><br><span class="line">	peopleMap[<span class="string">&quot;03&quot;</span>] = <span class="string">&quot;北小楠&quot;</span></span><br><span class="line">	peopleMap[<span class="string">&quot;04&quot;</span>] = <span class="string">&quot;楠小茽&quot;</span></span><br><span class="line">	</span><br><span class="line">	fmt.Println(peopleMap)</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">map[01:喜小乐 02:东小贝 03:北小楠 04:楠小茽]</span><br></pre></td></tr></table></figure>

<h3 id="第二种方式：通过make定义并初始化"><a href="#第二种方式：通过make定义并初始化" class="headerlink" title="第二种方式：通过make定义并初始化"></a>第二种方式：通过make定义并初始化</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 通过make声明并初始化</span></span><br><span class="line">	m := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>, <span class="number">4</span>)</span><br><span class="line">	m[<span class="string">&quot;no1&quot;</span>] = <span class="string">&quot;向北&quot;</span></span><br><span class="line">	m[<span class="string">&quot;no2&quot;</span>] = <span class="string">&quot;向南&quot;</span></span><br><span class="line">	m[<span class="string">&quot;no3&quot;</span>] = <span class="string">&quot;向东&quot;</span></span><br><span class="line">	m[<span class="string">&quot;no4&quot;</span>] = <span class="string">&quot;向西&quot;</span></span><br><span class="line"></span><br><span class="line">	fmt.Print(m)</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">map[no1:向北 no2:向南 no3:向东 no4:向西]</span><br></pre></td></tr></table></figure>

<h4 id="关于make函数的说明"><a href="#关于make函数的说明" class="headerlink" title="关于make函数的说明"></a>关于make函数的说明</h4><p>make（type,size）是一个内置函数，它用于分配并初始化一个类型为切片、映射和通道的对象，其中第一个参数为类型，第二个参数size是分配给type的初始大小，其返回值与实参type的类型一致，而非指针。</p>
<h3 id="第三种方式-声明时直接赋值"><a href="#第三种方式-声明时直接赋值" class="headerlink" title="第三种方式 声明时直接赋值"></a>第三种方式 声明时直接赋值</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">m := <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>&#123;</span><br><span class="line">		<span class="string">&quot;小明&quot;</span>:<span class="string">&quot;小朋友&quot;</span>,</span><br><span class="line">		<span class="string">&quot;小张&quot;</span>: <span class="string">&quot;是个大人&quot;</span>,</span><br><span class="line">		<span class="string">&quot;小李&quot;</span>: <span class="string">&quot;是个司机&quot;</span>,</span><br><span class="line">		<span class="string">&quot;小王&quot;</span>: <span class="string">&quot;家住隔壁&quot;</span>,</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<h2 id="map的CRUD"><a href="#map的CRUD" class="headerlink" title="map的CRUD"></a>map的CRUD</h2><h4 id="添加元素操作"><a href="#添加元素操作" class="headerlink" title="添加元素操作"></a>添加元素操作</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 语法</span></span><br><span class="line"><span class="keyword">map</span>[key] = value</span><br></pre></td></tr></table></figure>



<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> m  <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span></span><br><span class="line">	m = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>,<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 添加元素</span></span><br><span class="line">	m[<span class="string">&quot;小明&quot;</span>] = <span class="string">&quot;一听就是个小朋友&quot;</span></span><br><span class="line">	m[<span class="string">&quot;小张&quot;</span>] = <span class="string">&quot;一听就是个大人&quot;</span></span><br><span class="line">	m[<span class="string">&quot;小李&quot;</span>] = <span class="string">&quot;一听就是个司机&quot;</span></span><br><span class="line">	m[<span class="string">&quot;小王&quot;</span>] = <span class="string">&quot;一听家就住在不远&quot;</span></span><br><span class="line"></span><br><span class="line">	fmt.Println(m)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>注意：</strong> 如果key不存在，就是增加，如果key存在，则是修改操作</p>
<h3 id="修改元素操作"><a href="#修改元素操作" class="headerlink" title="修改元素操作"></a>修改元素操作</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> m =  <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span> &#123;</span><br><span class="line">		<span class="string">&quot;小王&quot;</span>:<span class="string">&quot;一听家就住在不远&quot;</span>,</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	fmt.Println(<span class="string">&quot;修改前：&quot;</span>,m)</span><br><span class="line">	m[<span class="string">&quot;小王&quot;</span>] = <span class="string">&quot;家住在隔壁&quot;</span></span><br><span class="line"></span><br><span class="line">	fmt.Println(<span class="string">&quot;修改后&quot;</span>, m)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">修改前： <span class="keyword">map</span>[小王:一听家就住在不远]</span><br><span class="line">修改后 <span class="keyword">map</span>[小王:家住在隔壁]</span><br></pre></td></tr></table></figure>

<h3 id="删除操作"><a href="#删除操作" class="headerlink" title="删除操作"></a>删除操作</h3><p>delete(m map[Type]Type1, key Type)是一个内建函数，它将删除map中指定key的元素。当key不存在时，则不进行删除。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> m  <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span></span><br><span class="line">	m = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>,<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 添加元素</span></span><br><span class="line">	m[<span class="string">&quot;小明&quot;</span>] = <span class="string">&quot;一听就是个小朋友&quot;</span></span><br><span class="line">	m[<span class="string">&quot;小张&quot;</span>] = <span class="string">&quot;一听就是个大人&quot;</span></span><br><span class="line">	m[<span class="string">&quot;小李&quot;</span>] = <span class="string">&quot;一听就是个司机&quot;</span></span><br><span class="line">	m[<span class="string">&quot;小王&quot;</span>] = <span class="string">&quot;一听家就住在不远&quot;</span></span><br><span class="line"></span><br><span class="line">	fmt.Println(<span class="string">&quot;删除前： &quot;</span>,m)</span><br><span class="line">    </span><br><span class="line">	<span class="comment">// delete(m map[Type]Type1, key Type)是一个内建函数，它将删除map中指定key的元素。当key不存在时，则不进行删除</span></span><br><span class="line">	<span class="built_in">delete</span>(m, <span class="string">&quot;小王&quot;</span>)</span><br><span class="line"></span><br><span class="line">	fmt.Println(<span class="string">&quot;删除后： &quot;</span>, m)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">删除前：  <span class="keyword">map</span>[小张:一听就是个大人 小明:一听就是个小朋友 小李:一听就是个司机 小王:一听家就住在不远]</span><br><span class="line">删除后：  <span class="keyword">map</span>[小张:一听就是个大人 小明:一听就是个小朋友 小李:一听就是个司机]</span><br></pre></td></tr></table></figure>

<h3 id="查询操作"><a href="#查询操作" class="headerlink" title="查询操作"></a>查询操作</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span> <span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> m  <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span></span><br><span class="line">	m = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>,<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 添加元素</span></span><br><span class="line">	m[<span class="string">&quot;小明&quot;</span>] = <span class="string">&quot;一听就是个小朋友&quot;</span></span><br><span class="line">	m[<span class="string">&quot;小张&quot;</span>] = <span class="string">&quot;一听就是个大人&quot;</span></span><br><span class="line">	m[<span class="string">&quot;小李&quot;</span>] = <span class="string">&quot;一听就是个司机&quot;</span></span><br><span class="line">	m[<span class="string">&quot;小王&quot;</span>] = <span class="string">&quot;一听家就住在不远&quot;</span></span><br><span class="line">	</span><br><span class="line">    <span class="comment">// 如果map中存在key为“小王”的元素，则ok为true,value为对应的元素 </span></span><br><span class="line">	value,ok := m[<span class="string">&quot;小王&quot;</span>]</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> ok &#123;</span><br><span class="line">		fmt.Println(value)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">一听家就住在不远</span><br></pre></td></tr></table></figure>

<h2 id="map的遍历"><a href="#map的遍历" class="headerlink" title="map的遍历"></a>map的遍历</h2><h4 id="使用for-range遍历map的key和value"><a href="#使用for-range遍历map的key和value" class="headerlink" title="使用for range遍历map的key和value"></a>使用<code>for range</code>遍历<code>map</code>的<code>key</code>和<code>value</code></h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> m  <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span></span><br><span class="line">	m = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>,<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 添加元素</span></span><br><span class="line">	m[<span class="string">&quot;小明&quot;</span>] = <span class="string">&quot;一听就是个小朋友&quot;</span></span><br><span class="line">	m[<span class="string">&quot;小张&quot;</span>] = <span class="string">&quot;一听就是个大人&quot;</span></span><br><span class="line">	m[<span class="string">&quot;小李&quot;</span>] = <span class="string">&quot;一听就是个司机&quot;</span></span><br><span class="line">	m[<span class="string">&quot;小王&quot;</span>] = <span class="string">&quot;一听家就住在不远&quot;</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> key, value := <span class="keyword">range</span> m &#123;</span><br><span class="line">		fmt.Println(key,value)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">小张 一听就是个大人</span><br><span class="line">小李 一听就是个司机</span><br><span class="line">小王 一听家就住在不远</span><br><span class="line">小明 一听就是个小朋友</span><br></pre></td></tr></table></figure>

<h4 id="使用for-range遍历map的key"><a href="#使用for-range遍历map的key" class="headerlink" title="使用for range遍历map的key"></a>使用<code>for range</code>遍历<code>map</code>的<code>key</code></h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">traverse2</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> m  <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span></span><br><span class="line">	m = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>,<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 添加元素</span></span><br><span class="line">	m[<span class="string">&quot;小明&quot;</span>] = <span class="string">&quot;一听就是个小朋友&quot;</span></span><br><span class="line">	m[<span class="string">&quot;小张&quot;</span>] = <span class="string">&quot;一听就是个大人&quot;</span></span><br><span class="line">	m[<span class="string">&quot;小李&quot;</span>] = <span class="string">&quot;一听就是个司机&quot;</span></span><br><span class="line">	m[<span class="string">&quot;小王&quot;</span>] = <span class="string">&quot;一听家就住在不远&quot;</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> s := <span class="keyword">range</span> m &#123;</span><br><span class="line">		fmt.Println(s)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">小王</span><br><span class="line">小明</span><br><span class="line">小张</span><br><span class="line">小李</span><br></pre></td></tr></table></figure>

<h4 id="按照一定的顺序遍历map"><a href="#按照一定的顺序遍历map" class="headerlink" title="按照一定的顺序遍历map"></a>按照一定的顺序遍历map</h4><p>在前文当中我们说到，map它是无序的，那么，我们应当如何对它进行有序的遍历呢？</p>
<p>实现思路是这个样子的，我们首先使用<code>for range</code> 遍历map当中的key，并将其存入到一个切片（slice）<code>keyArray</code>当中，然后对数组进行排序，最后再遍历数组<code>keyArray</code> ，并将map当中key对应的值取出。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">orderlyTraversal</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> m  <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span></span><br><span class="line">	m = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>,<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 添加元素</span></span><br><span class="line">	m[<span class="string">&quot;小明&quot;</span>] = <span class="string">&quot;一听就是个小朋友&quot;</span></span><br><span class="line">	m[<span class="string">&quot;小张&quot;</span>] = <span class="string">&quot;一听就是个大人&quot;</span></span><br><span class="line">	m[<span class="string">&quot;小李&quot;</span>] = <span class="string">&quot;一听就是个司机&quot;</span></span><br><span class="line">	m[<span class="string">&quot;小王&quot;</span>] = <span class="string">&quot;一听家就住在不远&quot;</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> keyArray []<span class="keyword">string</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> key := <span class="keyword">range</span> m&#123;</span><br><span class="line">		keyArray = <span class="built_in">append</span>(keyArray, key)</span><br><span class="line">	&#125;</span><br><span class="line">	sort.Strings(keyArray)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(keyArray); i++ &#123;</span><br><span class="line">		fmt.Println(keyArray[i],m[keyArray[i]])</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    orderlyTraversal()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">小张 一听就是个大人</span><br><span class="line">小明 一听就是个小朋友</span><br><span class="line">小李 一听就是个司机</span><br><span class="line">小王 一听家就住在不远</span><br></pre></td></tr></table></figure>

<h2 id="slice-of-map"><a href="#slice-of-map" class="headerlink" title="slice  of  map"></a>slice  of  map</h2><p>当切片（slice）的数据类型为map时，我们称之为“slice of map”, map的切片，它是可以动态变化的。</p>
<p>便于大家理解这个数据结构，我这里举个案例。需求是这个样子的，我们需要一个数据结构用于存储学生（student）的信息，包括name、gender等属性，要求这个数据结构可以动态地变更学生的数量。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> students []<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span></span><br><span class="line"></span><br><span class="line">	student1 := <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>&#123;</span><br><span class="line">		<span class="string">&quot;name&quot;</span>: <span class="string">&quot;向北&quot;</span>,</span><br><span class="line">		<span class="string">&quot;gender&quot;</span>: <span class="string">&quot;male&quot;</span>,</span><br><span class="line">	&#125;</span><br><span class="line">	students = <span class="built_in">append</span>(students, student1)</span><br><span class="line">    </span><br><span class="line">	student2 := <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>&#123;</span><br><span class="line">		<span class="string">&quot;name&quot;</span>: <span class="string">&quot;向东&quot;</span>,</span><br><span class="line">		<span class="string">&quot;gender&quot;</span>: <span class="string">&quot;male&quot;</span>,</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	students = <span class="built_in">append</span>(students, student2)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> _, student := <span class="keyword">range</span> students &#123;</span><br><span class="line"></span><br><span class="line">		fmt.Println(<span class="string">&quot;name: &quot;</span>,student[<span class="string">&quot;name&quot;</span>],<span class="string">&quot;gender: &quot;</span>,student[<span class="string">&quot;gender&quot;</span>])</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">name:  向北 gender:  male</span><br><span class="line">name:  向东 gender:  male</span><br></pre></td></tr></table></figure>

<p>可以看到，当需要动态地添加元素时，只要使用内置函数append就可以了。</p>
<h2 id="map的使用细节"><a href="#map的使用细节" class="headerlink" title="map的使用细节"></a>map的使用细节</h2><ol>
<li>map是引用数据类型，遵守引用数据类型的传递机制，在一个函数中接收map,修改后，会直接修改原先的map</li>
<li>map使用容量达到上前上限值后，会自动扩容，并不会发生panic</li>
<li>map的<code>value</code>经常是<code>struct</code>结构体类型，更适合于管理复杂的数据</li>
</ol>
<h2 id="写在最后"><a href="#写在最后" class="headerlink" title="写在最后"></a>写在最后</h2><p>本文当中使用到的demo链接吧👉：<a target="_blank" rel="noopener" href="https://github.com/code81192/golang">code81192/golang: Go语言学习笔记&amp;Demo (github.com)</a></p>
<p>如果你觉得这篇文章对你有所帮助，请点个赞鼓励一下，如有错漏的地方欢迎指正🤝</p>

      
    </div>

    
    
    
	 
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://code81192.github.io/2021/08/15/golang/03_go%E8%AF%AD%E8%A8%80%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="赖柄沣">
      <meta itemprop="description" content="赖柄沣的技术博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="赖柄沣的技术博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/08/15/golang/03_go%E8%AF%AD%E8%A8%80%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/" class="post-title-link" itemprop="url">Go语言入门之流程控制----练气三层</a>
        </h2>

        <div class="post-meta">
		
			
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2021-08-15 14:17:21 / 修改时间：15:08:08" itemprop="dateCreated datePublished" datetime="2021-08-15T14:17:21+08:00">2021-08-15</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="1-流程控制之if-else"><a href="#1-流程控制之if-else" class="headerlink" title="1 流程控制之if else"></a>1 流程控制之if else</h2><h3 id="一般写法"><a href="#一般写法" class="headerlink" title="一般写法"></a>一般写法</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">if 表达式1 &#123;</span><br><span class="line">    分支1</span><br><span class="line">&#125; else if 表达式2 &#123;</span><br><span class="line">    分支2</span><br><span class="line">&#125; else&#123;</span><br><span class="line">    分支3</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>实例</strong></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/** 分支结构</span></span><br><span class="line"><span class="comment">  @author 赖柄沣 bingfengdev@aliyun.com</span></span><br><span class="line"><span class="comment">  @date 2020-09-29 00:00:39</span></span><br><span class="line"><span class="comment">  @version 1.0</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   a, b, c := <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span></span><br><span class="line">   <span class="keyword">if</span> a &gt;b &#123;</span><br><span class="line">      fmt.Println(a)</span><br><span class="line">   &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      fmt.Println(c)</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="if-else的特殊写法"><a href="#if-else的特殊写法" class="headerlink" title="if else的特殊写法"></a>if else的特殊写法</h3><p>if条件判断还有一种特殊的写法，可以在 if 表达式之前添加一个执行语句，再根据变量值进行判断</p>
<p><strong>实例</strong></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/** if else的特殊写法</span></span><br><span class="line"><span class="comment">  @author 赖柄沣 bingfengdev@aliyun.com</span></span><br><span class="line"><span class="comment">  @date 2020-09-29 00:00:39</span></span><br><span class="line"><span class="comment">  @version 1.0</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">if</span> a := <span class="number">3</span>; a &gt; <span class="number">0</span> &#123;</span><br><span class="line">      fmt.Println(a)</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>注意</strong>： Go语言规定与<code>if</code>匹配的左括号<code>&#123;</code>必须与<code>if和表达式</code>放在同一行，<code>&#123;</code>放在其他位置会触发编译错误。 同理，与<code>else</code>匹配的<code>&#123;</code>也必须与<code>else</code>写在同一行，<code>else</code>也必须与上一个<code>if</code>或<code>else if</code>右边的大括号在同一行。</p>
<h2 id="2-流程控制之switch"><a href="#2-流程控制之switch" class="headerlink" title="2 流程控制之switch"></a>2 流程控制之switch</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">switch var1 &#123;</span><br><span class="line">    case val1:</span><br><span class="line">        ...</span><br><span class="line">    case val2:</span><br><span class="line">        ...</span><br><span class="line">    default:</span><br><span class="line">        ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>实例</strong></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/** switch语句</span></span><br><span class="line"><span class="comment">  @author 赖柄沣 bingfengdev@aliyun.com</span></span><br><span class="line"><span class="comment">  @date 2020-09-29 00:00:39</span></span><br><span class="line"><span class="comment">  @version 1.0</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">   switchTest(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">switchTest</span><span class="params">(a <span class="keyword">int</span>)</span></span>  &#123;</span><br><span class="line">   <span class="keyword">switch</span> a &#123;</span><br><span class="line">   <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">      fmt.Println(<span class="number">1</span>)</span><br><span class="line">   <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">      fmt.Println(<span class="number">2</span>)</span><br><span class="line">   <span class="keyword">default</span>:</span><br><span class="line">      fmt.Println(a)</span><br><span class="line"></span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>注意</strong> ：</p>
<ol>
<li>switch 语句用于基于不同条件执行不同动作，每一个 case 分支都是唯一的，从上直下逐一匹配，直到匹配对为止。</li>
<li>switch 语句执行的过程从上至下，直到找到匹配项，匹配项后面也不需要再加break</li>
</ol>
<h3 id="type-switch"><a href="#type-switch" class="headerlink" title="type switch"></a>type switch</h3><p>switch 语句还可以被用于 type-switch 来判断某个 interface 变量中实际存储的变量类型。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">switch x.(type)&#123;</span><br><span class="line">    case type:</span><br><span class="line">       statement(s);      </span><br><span class="line">    case type:</span><br><span class="line">       statement(s); </span><br><span class="line">    /* 你可以定义任意个数的case */</span><br><span class="line">    default: /* 可选 */</span><br><span class="line">       statement(s);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>实例</strong></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/** type switch</span></span><br><span class="line"><span class="comment">  @author 赖柄沣 bingfengdev@aliyun.com</span></span><br><span class="line"><span class="comment">  @date 2020-09-29 00:00:39</span></span><br><span class="line"><span class="comment">  @version 1.0</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">   switchTest(<span class="string">&quot;&quot;</span>)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">switchTest</span><span class="params">( a <span class="keyword">interface</span>&#123;&#125;  )</span></span>  &#123;</span><br><span class="line">   <span class="keyword">switch</span> a.(<span class="keyword">type</span>) &#123;</span><br><span class="line">   <span class="keyword">case</span> <span class="keyword">int</span>:</span><br><span class="line">      fmt.Println(<span class="number">1</span>)</span><br><span class="line">   <span class="keyword">case</span> <span class="keyword">float32</span>:</span><br><span class="line">      fmt.Println(<span class="number">2</span>)</span><br><span class="line">   <span class="keyword">default</span>:</span><br><span class="line">      fmt.Println(<span class="string">&quot;未知的类型&quot;</span>)</span><br><span class="line"></span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-流程控制之-for循环"><a href="#3-流程控制之-for循环" class="headerlink" title="3 流程控制之 for循环"></a>3 流程控制之 for循环</h2><h3 id="写法一"><a href="#写法一" class="headerlink" title="写法一"></a>写法一</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">for init; condition; post &#123; &#125;</span><br></pre></td></tr></table></figure>

<p><strong>说明：</strong> </p>
<ul>
<li>init： 一般为赋值表达式，给控制变量赋初值；</li>
<li>condition： 关系表达式或逻辑表达式，循环控制条件；</li>
<li>post： 一般为赋值表达式，给控制变量增量或减量。</li>
</ul>
<p><strong>实例</strong>  </p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**for 循环演示</span></span><br><span class="line"><span class="comment">  @author 赖柄沣 bingfengdev@aliyun.com</span></span><br><span class="line"><span class="comment">  @date 2020-09-30 11:30:57</span></span><br><span class="line"><span class="comment">  @version 1.0</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   forDemo(<span class="number">10</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">forDemo</span><span class="params">(y <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">   <span class="keyword">for</span> x := <span class="number">0</span>; x &lt; y; x++ &#123;</span><br><span class="line">      fmt.Println(<span class="string">&quot;Hello World&quot;</span>, x)</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>输出</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Hello World 0</span><br><span class="line">Hello World 1</span><br><span class="line">Hello World 2</span><br><span class="line">Hello World 3</span><br><span class="line">Hello World 4</span><br><span class="line">Hello World 5</span><br><span class="line">Hello World 6</span><br><span class="line">Hello World 7</span><br><span class="line">Hello World 8</span><br><span class="line">Hello World 9</span><br></pre></td></tr></table></figure>



<h3 id="写法二"><a href="#写法二" class="headerlink" title="写法二"></a>写法二</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">for condition &#123; &#125;</span><br></pre></td></tr></table></figure>

<p><strong>实例</strong></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">   <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">/**for 循环演示</span></span><br><span class="line"><span class="comment">  @author 赖柄沣 bingfengdev@aliyun.com</span></span><br><span class="line"><span class="comment">  @date 2020-09-30 11:30:57</span></span><br><span class="line"><span class="comment">  @version 1.0</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   forDemo1()</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">forDemo1</span><span class="params">()</span></span> &#123;</span><br><span class="line">   y := <span class="number">0</span></span><br><span class="line">   <span class="keyword">for</span> ; y &lt; <span class="number">10</span>; y++ &#123;</span><br><span class="line">      fmt.Println(<span class="string">&quot;Ferrayman&quot;</span>,y)</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>输出</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Ferrayman 0</span><br><span class="line">Ferrayman 1</span><br><span class="line">Ferrayman 2</span><br><span class="line">Ferrayman 3</span><br><span class="line">Ferrayman 4</span><br><span class="line">Ferrayman 5</span><br><span class="line">Ferrayman 6</span><br><span class="line">Ferrayman 7</span><br><span class="line">Ferrayman 8</span><br><span class="line">Ferrayman 9</span><br></pre></td></tr></table></figure>

<h3 id="写法三"><a href="#写法三" class="headerlink" title="写法三"></a>写法三</h3><p><strong>实例</strong></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">   <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">/**for 循环演示</span></span><br><span class="line"><span class="comment">  @author 赖柄沣 bingfengdev@aliyun.com</span></span><br><span class="line"><span class="comment">  @date 2020-09-30 11:30:57</span></span><br><span class="line"><span class="comment">  @version 1.0</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">   forDemo2()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">forDemo2</span><span class="params">()</span></span> &#123;</span><br><span class="line">   x := <span class="number">10</span></span><br><span class="line">   <span class="keyword">for</span> x &gt; <span class="number">0</span> &#123;</span><br><span class="line">      fmt.Println(<span class="string">&quot;Ferrayman&quot;</span>, x)</span><br><span class="line">      x--</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>输出</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Ferrayman 10</span><br><span class="line">Ferrayman 9</span><br><span class="line">Ferrayman 8</span><br><span class="line">Ferrayman 7</span><br><span class="line">Ferrayman 6</span><br><span class="line">Ferrayman 5</span><br><span class="line">Ferrayman 4</span><br><span class="line">Ferrayman 3</span><br><span class="line">Ferrayman 2</span><br><span class="line">Ferrayman 1</span><br></pre></td></tr></table></figure>

<h2 id="4-break跳出循环"><a href="#4-break跳出循环" class="headerlink" title="4 break跳出循环"></a>4 break跳出循环</h2><p><code>break</code>语句可以结束<code>for</code>、<code>switch</code>和<code>select</code>的代码块。</p>
<p><strong>实例</strong></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">/**break关键字的使用</span></span><br><span class="line"><span class="comment">  @author 赖柄沣 bingfengdev@aliyun.com</span></span><br><span class="line"><span class="comment">  @date 2020-09-30 22:45:55</span></span><br><span class="line"><span class="comment">  @version 1.0</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> j := <span class="number">5</span>; j &gt; <span class="number">0</span>; j-- &#123;</span><br><span class="line">			<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">5</span>; i++ &#123;</span><br><span class="line">				<span class="keyword">if</span> i == <span class="number">3</span> &#123;</span><br><span class="line">					<span class="keyword">break</span></span><br><span class="line">				&#125;</span><br><span class="line">				fmt.Println(<span class="string">&quot;Ferrayman&quot;</span>,i)</span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>输出</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Ferrayman 0</span><br><span class="line">Ferrayman 1</span><br><span class="line">Ferrayman 2</span><br><span class="line">Ferrayman 0</span><br><span class="line">Ferrayman 1</span><br><span class="line">Ferrayman 2</span><br><span class="line">Ferrayman 0</span><br><span class="line">Ferrayman 1</span><br><span class="line">Ferrayman 2</span><br><span class="line">Ferrayman 0</span><br><span class="line">Ferrayman 1</span><br><span class="line">Ferrayman 2</span><br><span class="line">Ferrayman 0</span><br><span class="line">Ferrayman 1</span><br><span class="line">Ferrayman 2</span><br></pre></td></tr></table></figure>

<p><code>break</code>语句还可以在语句后面添加标签，表示退出某个标签对应的代码块，标签要求必须定义在对应的<code>for</code>、<code>switch</code>和 <code>select</code>的代码块上。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">   <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">/**break关键字的使用</span></span><br><span class="line"><span class="comment">  @author 赖柄沣 bingfengdev@aliyun.com</span></span><br><span class="line"><span class="comment">  @date 2020-09-30 22:45:55</span></span><br><span class="line"><span class="comment">  @version 1.0</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   Tag:</span><br><span class="line">      <span class="keyword">for</span> j := <span class="number">10</span>; j &gt; <span class="number">0</span>; j-- &#123;</span><br><span class="line">         <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ &#123;</span><br><span class="line">            <span class="keyword">if</span> i == <span class="number">5</span> &#123;</span><br><span class="line">               <span class="keyword">break</span> Tag</span><br><span class="line">            &#125;</span><br><span class="line">            fmt.Println(<span class="string">&quot;Ferrayman&quot;</span>,i)</span><br><span class="line"></span><br><span class="line">         &#125;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>输出</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Ferrayman 0</span><br><span class="line">Ferrayman 1</span><br><span class="line">Ferrayman 2</span><br><span class="line">Ferrayman 3</span><br><span class="line">Ferrayman 4</span><br></pre></td></tr></table></figure>



<h2 id="5-continuce跳过本次循环，继续下一次循环"><a href="#5-continuce跳过本次循环，继续下一次循环" class="headerlink" title="5 continuce跳过本次循环，继续下一次循环"></a>5 continuce跳过本次循环，继续下一次循环</h2><p><strong>实例</strong></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**continue关键字的使用</span></span><br><span class="line"><span class="comment">  @author 赖柄沣 bingfengdev@aliyun.com</span></span><br><span class="line"><span class="comment">  @date 2020-09-30 22:45:55</span></span><br><span class="line"><span class="comment">  @version 1.0</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ &#123;</span><br><span class="line">      <span class="keyword">if</span> i == <span class="number">5</span> &#123;</span><br><span class="line">         <span class="keyword">continue</span></span><br><span class="line">      &#125;</span><br><span class="line">      fmt.Println(<span class="string">&quot;Ferrayman&quot;</span>,i)</span><br><span class="line"></span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>输出</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Ferryman 0</span><br><span class="line">Ferryman 1</span><br><span class="line">Ferryman 2</span><br><span class="line">Ferryman 3</span><br><span class="line">Ferryman 4</span><br><span class="line">Ferryman 6</span><br><span class="line">Ferryman 7</span><br><span class="line">Ferryman 8</span><br><span class="line">Ferryman 9</span><br></pre></td></tr></table></figure>

<p><strong>注意：</strong>continue仅限在for循环当中使用</p>
<h2 id="6-goto关键字"><a href="#6-goto关键字" class="headerlink" title="6 goto关键字"></a>6 goto关键字</h2><p>Go 语言的 goto 语句可以无条件地转移到过程中指定的行。</p>
<p>不建议使用goto关键字。会让程序变得难以理解。</p>
<p><strong>实例</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">package main</span><br><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">/**goto关键字的使用</span><br><span class="line">  @author 赖柄沣 bingfengdev@aliyun.com</span><br><span class="line">  @date 2020-09-30 22:45:55</span><br><span class="line">  @version 1.0</span><br><span class="line">   */</span><br><span class="line">func main() &#123;</span><br><span class="line">Tag1:</span><br><span class="line">	fmt.Println(&quot;haha,我又来了&quot;)</span><br><span class="line">		for i := 0; i &lt; 5; i++ &#123;</span><br><span class="line">				if i == 3 &#123;</span><br><span class="line">					goto Tag</span><br><span class="line">				&#125;</span><br><span class="line">				fmt.Println(&quot;Ferrayman&quot;,i)</span><br><span class="line"></span><br><span class="line">			&#125;</span><br><span class="line">Tag:</span><br><span class="line">	fmt.Println(&quot;hehe，我出来了&quot;)</span><br><span class="line">	goto Tag1</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>输出</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">hehe，我出来了</span><br><span class="line">haha,我又来了</span><br><span class="line">Ferryman 0</span><br><span class="line">Ferryman 1</span><br><span class="line">Ferryman 2</span><br><span class="line"></span><br><span class="line">死循环。。。</span><br><span class="line">而且第一次打印在程序的23行</span><br></pre></td></tr></table></figure>

<p>（每次执行标签tag和tag1的执行顺序不太一样，个人感觉这应该和go语言对并行编程的设计有关）</p>

      
    </div>

    
    
    
	 
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://code81192.github.io/2021/08/15/golang/04_go%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8_%E6%95%B0%E7%BB%84/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="赖柄沣">
      <meta itemprop="description" content="赖柄沣的技术博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="赖柄沣的技术博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/08/15/golang/04_go%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8_%E6%95%B0%E7%BB%84/" class="post-title-link" itemprop="url">go语言入门之数组与切片</a>
        </h2>

        <div class="post-meta">
		
			
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2021-08-15 14:17:09 / 修改时间：15:08:58" itemprop="dateCreated datePublished" datetime="2021-08-15T14:17:09+08:00">2021-08-15</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><h3 id="数组的声明"><a href="#数组的声明" class="headerlink" title="数组的声明"></a>数组的声明</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var name [SIZE] type</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> list [<span class="number">10</span>] <span class="keyword">int</span></span><br></pre></td></tr></table></figure>

<p><strong>注意</strong>：</p>
<ol>
<li>数组长度必须是一个常量值</li>
<li>数组长度是数组类型的一部分，也就是说下面a，b两个数组是不同类型的</li>
</ol>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a [<span class="number">10</span>] <span class="keyword">int</span></span><br><span class="line"><span class="keyword">var</span> b [<span class="number">6</span>] <span class="keyword">int</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//不能这样做，a、b是不同类型的数组</span></span><br><span class="line">a = b</span><br></pre></td></tr></table></figure>

<h3 id="数组初始化"><a href="#数组初始化" class="headerlink" title="数组初始化"></a>数组初始化</h3><h4 id="方式一-指定数组长度初始化"><a href="#方式一-指定数组长度初始化" class="headerlink" title="方式一  指定数组长度初始化"></a>方式一  指定数组长度初始化</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> list1 = [<span class="number">5</span>] <span class="keyword">int</span> &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;</span><br></pre></td></tr></table></figure>

<h4 id="方式二-推断长度初始化"><a href="#方式二-推断长度初始化" class="headerlink" title="方式二 推断长度初始化"></a>方式二 推断长度初始化</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> list1 = [...] <span class="keyword">int</span> &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;</span><br><span class="line"><span class="comment">//或者</span></span><br><span class="line">list1 := [...] <span class="keyword">int</span> &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;</span><br></pre></td></tr></table></figure>

<h3 id="多维数组的声明与初始化"><a href="#多维数组的声明与初始化" class="headerlink" title="多维数组的声明与初始化"></a>多维数组的声明与初始化</h3><h4 id="方式一"><a href="#方式一" class="headerlink" title="方式一"></a>方式一</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> list = [<span class="number">2</span>][<span class="number">2</span>] <span class="keyword">int</span> &#123;</span><br><span class="line">   &#123;<span class="number">1</span>,<span class="number">2</span>&#125;,</span><br><span class="line">   &#123;<span class="number">1</span>,<span class="number">2</span>&#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="方式二"><a href="#方式二" class="headerlink" title="方式二"></a>方式二</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> list = [...][<span class="number">2</span>] <span class="keyword">int</span> &#123;</span><br><span class="line">   &#123;<span class="number">1</span>,<span class="number">2</span>&#125;,</span><br><span class="line">   &#123;<span class="number">1</span>,<span class="number">2</span>&#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>注意</strong></p>
<ol>
<li>多维数组<strong>只有第一层</strong>可以使用<code>...</code>来让编译器推导数组长度。</li>
</ol>
<h3 id="数组的访问"><a href="#数组的访问" class="headerlink" title="数组的访问"></a>数组的访问</h3><p>与其他语言一样，数组可以通过下标来访问，例如<code>array[index]</code></p>
<h3 id="数组的遍历"><a href="#数组的遍历" class="headerlink" title="数组的遍历"></a>数组的遍历</h3><p>在go语言中，数组有两种遍历方式，具体请看下面的demo</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**遍历数组</span></span><br><span class="line"><span class="comment">  @author 赖柄沣 bingfengdev@aliyun.com</span></span><br><span class="line"><span class="comment">  @date 2020-10-01 10:57:25</span></span><br><span class="line"><span class="comment">  @version 1.0</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">var</span> list =   [...] <span class="keyword">int</span>&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 遍历方式一</span></span><br><span class="line">   <span class="keyword">for</span> i:=<span class="number">0</span>; i&lt; <span class="built_in">len</span>(list); i++&#123;</span><br><span class="line">      fmt.Print(list[i])</span><br><span class="line">   &#125;</span><br><span class="line">fmt.Println()</span><br><span class="line"><span class="comment">// 遍历方式二</span></span><br><span class="line">   <span class="keyword">for</span> index := <span class="keyword">range</span> list &#123;</span><br><span class="line">      fmt.Print(list[index])</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>输出</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">12246</span><br><span class="line">12246</span><br></pre></td></tr></table></figure>

<h3 id="数组是值类型"><a href="#数组是值类型" class="headerlink" title="数组是值类型"></a>数组是值类型</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**数组是值类型证明</span></span><br><span class="line"><span class="comment">  @author 赖柄沣 bingfengdev@aliyun.com</span></span><br><span class="line"><span class="comment">  @date 2020-10-01 10:57:25</span></span><br><span class="line"><span class="comment">  @version 1.0</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">var</span> list =   [...] <span class="keyword">int</span>&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>&#125;</span><br><span class="line">   <span class="keyword">var</span> list2 = list</span><br><span class="line"></span><br><span class="line">   <span class="comment">/**</span></span><br><span class="line"><span class="comment">   改变list2的值，如果数组是引用类型，那么list2和list指向同一个地址</span></span><br><span class="line"><span class="comment">   如果list2发生改变，则list也会发生改变</span></span><br><span class="line"><span class="comment">   否则，数组是值类型</span></span><br><span class="line"><span class="comment">   赋值语句会将数组值拷贝一份给副本，则改变副本的值对原数组不会产生影响</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="keyword">for</span> index := <span class="keyword">range</span> list2&#123;</span><br><span class="line">      list2[index] = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   fmt.Print(<span class="string">&quot;原数组&quot;</span>,list)</span><br><span class="line">   fmt.Println()</span><br><span class="line">   fmt.Print(<span class="string">&quot;副本&quot;</span>,list2)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>输出</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">原数组[1 2 2 4 6]</span><br><span class="line">副本[1 1 1 1 1]</span><br></pre></td></tr></table></figure>

<p><strong>注意：</strong></p>
<ol>
<li>数组支持 “==“、”!=” 操作符，因为内存总是被初始化过的。</li>
<li><code>[n]*T</code>表示指针数组，<code>*[n]T</code>表示数组指针 。</li>
</ol>
<h2 id="切片类型"><a href="#切片类型" class="headerlink" title="切片类型"></a>切片类型</h2><h3 id="切片的定义"><a href="#切片的定义" class="headerlink" title="切片的定义"></a>切片的定义</h3><p>Go语言的切片（slice）切片是一个拥有相同类型元素的可变长度的序列，类似于Java的list。我们知道，数组的大小是一个确定值，因此，在某些需要动态地扩展容器大小的地方，数组将变得不太适用。而切片在数组的基础上做了一层封装，以便支持需要动态扩容的场景。</p>
<p>Go语言中切片的内部结构包含底层数组的地址、切片的大小和切片的容量三个部分。</p>
<h3 id="切片的声明"><a href="#切片的声明" class="headerlink" title="切片的声明"></a>切片的声明</h3><h4 id="方式一-1"><a href="#方式一-1" class="headerlink" title="方式一"></a>方式一</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 声明一个int类型的切片</span></span><br><span class="line"><span class="keyword">var</span> i  [] <span class="keyword">int</span></span><br></pre></td></tr></table></figure>

<h4 id="方式二-从数组中获取切片（初始化操作）"><a href="#方式二-从数组中获取切片（初始化操作）" class="headerlink" title="方式二 从数组中获取切片（初始化操作）"></a>方式二 从数组中获取切片（初始化操作）</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**由数组产生切片</span></span><br><span class="line"><span class="comment">  @author 赖柄沣 bingfengdev@aliyun.com</span></span><br><span class="line"><span class="comment">  @date 2020-10-01 23:18:21</span></span><br><span class="line"><span class="comment">  @version 1.0</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	a := [...] <span class="keyword">int</span> &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">0</span>&#125;</span><br><span class="line">    <span class="comment">//注意，这里的切片截取是[)即左包含，而右不包含的</span></span><br><span class="line">	i := a[<span class="number">0</span>:<span class="number">4</span>]</span><br><span class="line">	<span class="keyword">for</span> index := <span class="keyword">range</span> i&#123;</span><br><span class="line">		fmt.Print(i[index])</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>输出</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1234</span><br></pre></td></tr></table></figure>

<h4 id="方式三-通过make构造切片"><a href="#方式三-通过make构造切片" class="headerlink" title="方式三 通过make构造切片"></a>方式三 通过make构造切片</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// capacity代表切片容量，这是一个可选参数</span></span><br><span class="line">slice = <span class="built_in">make</span>([]T, length, capacity)</span><br></pre></td></tr></table></figure>

<p><strong>注意</strong>： </p>
<ol>
<li>切片在未初始化之前是一个空切片(nil)</li>
<li>要检查切片是否为空，请始终使用<code>len(s) == 0</code>来判断，而不应该使用<code>s == nil</code>来判断。</li>
<li>切片之间不能直接比较。切片唯一合法的比较操作是和<code>nil</code>比较。 一个<code>nil</code>值的切片并没有底层数组，一个<code>nil</code>值的切片的长度和容量都是0。但是我们不能说一个长度和容量都是0的切片一定是<code>nil</code></li>
</ol>
<p>举个例子：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="comment">/**切片比较演示</span></span><br><span class="line"><span class="comment">  @author 赖柄沣 bingfengdev@aliyun.com</span></span><br><span class="line"><span class="comment">  @date 2020-10-02 09:27:38</span></span><br><span class="line"><span class="comment">  @version 1.0</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">var</span> a  [] <span class="keyword">int</span></span><br><span class="line">    b := [] <span class="keyword">int</span>&#123;&#125; <span class="comment">//或者 b := make([]int, 0)</span></span><br><span class="line">    <span class="built_in">println</span>(a==<span class="literal">nil</span>)</span><br><span class="line">    <span class="built_in">println</span>(b==<span class="literal">nil</span>)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">true</span><br><span class="line">false</span><br></pre></td></tr></table></figure>

<h3 id="切片表达式"><a href="#切片表达式" class="headerlink" title="切片表达式"></a>切片表达式</h3><p>上一小节当中的从数组获取切片，也是切片表达式的一种，下面介绍其他几种写法。</p>
<h4 id="省略开始位置"><a href="#省略开始位置" class="headerlink" title="省略开始位置"></a>省略开始位置</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//这个数组a下面的例子中继续沿用</span></span><br><span class="line">a := [...] <span class="keyword">int</span> &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">0</span>&#125;</span><br><span class="line">i := a[:<span class="number">4</span>]</span><br></pre></td></tr></table></figure>

<h4 id="省略结束位置"><a href="#省略结束位置" class="headerlink" title="省略结束位置"></a>省略结束位置</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">i := a[<span class="number">4</span>:]</span><br></pre></td></tr></table></figure>

<h4 id="开始、结束都省略"><a href="#开始、结束都省略" class="headerlink" title="开始、结束都省略"></a>开始、结束都省略</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">i := a[:]</span><br></pre></td></tr></table></figure>

<p><strong>提示：</strong> 切片表达式也可以用来操作切片，即上面的数组a也可以是一个切片。</p>
<h3 id="len-和-cap-函数"><a href="#len-和-cap-函数" class="headerlink" title="len() 和 cap() 函数"></a>len() 和 cap() 函数</h3><p>切片是可索引的，并且可以由 len() 方法获取长度。</p>
<p>切片提供了计算容量的方法 cap() 可以测量切片最长可以达到多少。</p>
<p>请看下方的demo</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="comment">/**len()和cap()函数演示</span></span><br><span class="line"><span class="comment">  @author 赖柄沣 bingfengdev@aliyun.com</span></span><br><span class="line"><span class="comment">  @date 2020-10-01 23:18:21</span></span><br><span class="line"><span class="comment">  @version 1.0</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   a := [...] <span class="keyword">int</span> &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">0</span>&#125;</span><br><span class="line">   i := a[<span class="number">2</span>:<span class="number">6</span>]</span><br><span class="line"></span><br><span class="line">   <span class="comment">//获取切片长度并打印</span></span><br><span class="line">   <span class="built_in">println</span>(<span class="built_in">len</span>(i))</span><br><span class="line"></span><br><span class="line">   <span class="comment">//获取切片容量并打印</span></span><br><span class="line">   <span class="built_in">println</span>(<span class="built_in">cap</span>(i))</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">4</span><br><span class="line">8</span><br></pre></td></tr></table></figure>

<p>看到这里，大家或许会对切片容量和长度这两个值感到疑惑。上文咱讲切片的定义时曾说到，切片是对数组的封装，内部结构包含底层数组的地址、切片的大小和切片的容量三个部分。</p>
<p>切片的长度等于切片结束下标值减去切片开始下标值：</p>
<p>length = endIndex-startIndex</p>
<p>切片容量capacity等于底层数组长度减去开始下标值</p>
<p>capacity = len(array) - startIndex</p>
<p>所以上面的例子中的切片长度和容量分别是4和8。而底层数组的地址指向的就是切片开始下标对应值所在的内存地址。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**切片地层数组地址演示</span></span><br><span class="line"><span class="comment">  @author 赖柄沣 bingfengdev@aliyun.com</span></span><br><span class="line"><span class="comment">  @date 2020-10-02 09:27:38</span></span><br><span class="line"><span class="comment">  @version 1.0</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   a := [...] <span class="keyword">int</span> &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">0</span>&#125;</span><br><span class="line">   i := a[<span class="number">2</span>:<span class="number">6</span>]</span><br><span class="line"></span><br><span class="line">   <span class="built_in">println</span>(&amp;i[<span class="number">0</span>])</span><br><span class="line">   <span class="built_in">println</span>(&amp;a[<span class="number">2</span>])</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>输出</strong></p>
<p><img src="04_go%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8_%E6%95%B0%E7%BB%84.assets/1601602182292.png" alt="60160218229"></p>
<p>这也再一次证明了切片是引用类型。</p>
<h3 id="切片的直接赋值和copy-函数"><a href="#切片的直接赋值和copy-函数" class="headerlink" title="切片的直接赋值和copy()函数"></a>切片的直接赋值和copy()函数</h3><h4 id="直接赋值"><a href="#直接赋值" class="headerlink" title="直接赋值"></a>直接赋值</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="comment">/**切片的赋值</span></span><br><span class="line"><span class="comment">  @author 赖柄沣 bingfengdev@aliyun.com</span></span><br><span class="line"><span class="comment">  @date 2020-10-02 09:27:38</span></span><br><span class="line"><span class="comment">  @version 1.0</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   a := [...] <span class="keyword">int</span> &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">0</span>&#125;</span><br><span class="line">   i := a[<span class="number">2</span>:<span class="number">6</span>]</span><br><span class="line">   <span class="comment">//将i直接赋值给j，i、j将共用一个底层数组a</span></span><br><span class="line">   j := i</span><br><span class="line">   <span class="built_in">println</span>(&amp;i)</span><br><span class="line">   <span class="built_in">println</span>(&amp;j)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>注意</strong></p>
<ol>
<li>对切片i的操作将影响到切片j</li>
</ol>
<p><strong>举个例子</strong></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="comment">/**切片的赋值</span></span><br><span class="line"><span class="comment">  @author 赖柄沣 bingfengdev@aliyun.com</span></span><br><span class="line"><span class="comment">  @date 2020-10-02 09:27:38</span></span><br><span class="line"><span class="comment">  @version 1.0</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   a := [...] <span class="keyword">int</span> &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">0</span>&#125;</span><br><span class="line">   i := a[<span class="number">2</span>:<span class="number">6</span>]</span><br><span class="line">   <span class="comment">//将i直接赋值给j，i、j将共用一个底层数组a</span></span><br><span class="line">   j := i</span><br><span class="line"></span><br><span class="line">   i[<span class="number">0</span>] = <span class="number">6</span></span><br><span class="line">   <span class="built_in">println</span>(j[<span class="number">0</span>])</span><br><span class="line">   <span class="built_in">println</span>(a[<span class="number">2</span>])</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">6</span><br><span class="line">6</span><br></pre></td></tr></table></figure>

<p>这不难理解，因为i、j都是一个保持对数组a的引用，因此，改变i的值实际上改变的是数组a的值，所以j也会受到影响。</p>
<h4 id="copy-函数"><a href="#copy-函数" class="headerlink" title="copy()函数"></a>copy()函数</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="comment">/**copy（）函数的使用</span></span><br><span class="line"><span class="comment">  @author 赖柄沣 bingfengdev@aliyun.com</span></span><br><span class="line"><span class="comment">  @date 2020-10-02 09:27:38</span></span><br><span class="line"><span class="comment">  @version 1.0</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   a := [...] <span class="keyword">int</span> &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">0</span>&#125;</span><br><span class="line">   i := a[<span class="number">2</span>:<span class="number">6</span>]</span><br><span class="line">   j := <span class="built_in">make</span>([]<span class="keyword">int</span>,<span class="built_in">len</span>(i),<span class="built_in">cap</span>(i))</span><br><span class="line">   <span class="built_in">copy</span>(j,i)</span><br><span class="line">   i[<span class="number">0</span>] = <span class="number">6</span></span><br><span class="line">   <span class="built_in">println</span>(j[<span class="number">0</span>])</span><br><span class="line">   <span class="built_in">println</span>(a[<span class="number">2</span>])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">3</span><br><span class="line">6</span><br></pre></td></tr></table></figure>

<p>显然，这里的i、j所对应的底层数组不是同一个。</p>
<h3 id="append-函数的使用"><a href="#append-函数的使用" class="headerlink" title="append()函数的使用"></a>append()函数的使用</h3><h4 id="为切片添加新元素"><a href="#为切片添加新元素" class="headerlink" title="为切片添加新元素"></a>为切片添加新元素</h4><p>Go语言的内建函数<code>append()</code>可以为切片动态添加元素。 可以一次添加一个元素，可以添加多个元素，也可以添加另一个切片中的元素（切片参数后面加…）</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">/**append()函数的使用</span></span><br><span class="line"><span class="comment">  @author 赖柄沣 bingfengdev@aliyun.com</span></span><br><span class="line"><span class="comment">  @date 2020-10-02 09:59:36</span></span><br><span class="line"><span class="comment">  @version 1.0</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">//声明一个int类型的切片</span></span><br><span class="line">	<span class="keyword">var</span> a [] <span class="keyword">int</span></span><br><span class="line">	b := [] <span class="keyword">int</span>&#123;<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>&#125;</span><br><span class="line">	<span class="comment">//向切片a中追加元素</span></span><br><span class="line">	a = <span class="built_in">append</span>(a, <span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>)</span><br><span class="line">	<span class="comment">//将切片a的元素追加切片b</span></span><br><span class="line">	b  = <span class="built_in">append</span>(b,a...)</span><br><span class="line">	</span><br><span class="line">	fmt.Println(a)</span><br><span class="line">	fmt.Println(b)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>输出</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[1 2 4]</span><br><span class="line">[5 6 7 1 2 4]</span><br></pre></td></tr></table></figure>

<h4 id="移除元素"><a href="#移除元素" class="headerlink" title="移除元素"></a>移除元素</h4><p>在go语言当中，目前并没有为切片移除元素的函数，因此我们使用append()来做移除操作。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**切片移除元素</span></span><br><span class="line"><span class="comment">  @author 赖柄沣 bingfengdev@aliyun.com</span></span><br><span class="line"><span class="comment">  @date 2020-10-02 10:23:51</span></span><br><span class="line"><span class="comment">  @version 1.0</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   a := [] <span class="keyword">int</span>&#123;<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>&#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">//删除索引为1的元素</span></span><br><span class="line">   a = <span class="built_in">append</span>(a[:<span class="number">1</span>],a[<span class="number">2</span>:]...)</span><br><span class="line"></span><br><span class="line">   fmt.Println(a)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[5 7]</span><br></pre></td></tr></table></figure>

<p><strong>提示</strong> </p>
<p>每个切片会指向一个底层数组，这个数组的容量够用就添加新增元素。当底层数组不能容纳新增的元素时，切片就会自动按照一定的策略进行“扩容”，此时该切片指向的底层数组就会更换。“扩容”操作往往发生在<code>append()</code>函数调用时，所以我们通常都需要用原变量接收append函数的返回值。</p>
<h3 id="切片的排序"><a href="#切片的排序" class="headerlink" title="切片的排序"></a>切片的排序</h3><h4 id="对int类型的元素排序"><a href="#对int类型的元素排序" class="headerlink" title="对int类型的元素排序"></a>对int类型的元素排序</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">   <span class="string">&quot;fmt&quot;</span></span><br><span class="line">   <span class="string">&quot;sort&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">/**切片排序</span></span><br><span class="line"><span class="comment">  @author 赖柄沣 bingfengdev@aliyun.com</span></span><br><span class="line"><span class="comment">  @date 2020-10-02 10:23:51</span></span><br><span class="line"><span class="comment">  @version 1.0</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   a := [] <span class="keyword">int</span>&#123;<span class="number">9</span>,<span class="number">6</span>,<span class="number">7</span>&#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">//对int类型的元素进行排序</span></span><br><span class="line">   sort.Ints(a)</span><br><span class="line"></span><br><span class="line">   fmt.Println(a)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[6 7 9]</span><br></pre></td></tr></table></figure>

<h4 id="对string类型的元素排序"><a href="#对string类型的元素排序" class="headerlink" title="对string类型的元素排序"></a>对string类型的元素排序</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">   <span class="string">&quot;fmt&quot;</span></span><br><span class="line">   <span class="string">&quot;sort&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">/**切片排序</span></span><br><span class="line"><span class="comment">  @author 赖柄沣 bingfengdev@aliyun.com</span></span><br><span class="line"><span class="comment">  @date 2020-10-02 10:23:51</span></span><br><span class="line"><span class="comment">  @version 1.0</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   s := [] <span class="keyword">string</span> &#123;<span class="string">&quot;zhangsan&quot;</span>,<span class="string">&quot;wangwu&quot;</span>,<span class="string">&quot;lisi&quot;</span>,<span class="string">&quot;zhaoliu&quot;</span>,<span class="string">&quot;suiqi&quot;</span>,<span class="string">&quot;songjiu&quot;</span>&#125;</span><br><span class="line">   sort.Strings(s)</span><br><span class="line">   fmt.Println(s)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[lisi songjiu suiqi wangwu zhangsan zhaoliu]</span><br></pre></td></tr></table></figure>

<h3 id="查找元素位置"><a href="#查找元素位置" class="headerlink" title="查找元素位置"></a>查找元素位置</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;sort&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">/**切片查找元素位置</span></span><br><span class="line"><span class="comment">  @author 赖柄沣 bingfengdev@aliyun.com</span></span><br><span class="line"><span class="comment">  @date 2020-10-02 10:23:51</span></span><br><span class="line"><span class="comment">  @version 1.0</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	s := [] <span class="keyword">string</span> &#123;<span class="string">&quot;张三&quot;</span>,<span class="string">&quot;王五&quot;</span>,<span class="string">&quot;李四&quot;</span>,<span class="string">&quot;赵六&quot;</span>,<span class="string">&quot;孙七&quot;</span>,<span class="string">&quot;宋九&quot;</span>&#125;</span><br><span class="line">	sort.Strings(s)</span><br><span class="line">	fmt.Println(s)</span><br><span class="line">	a := sort.SearchStrings(s,<span class="string">&quot;李四&quot;</span>)</span><br><span class="line">	fmt.Println(s[a])</span><br><span class="line">	fmt.Println(a)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>输出</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[张三 王五 李四 赵六 孙七 宋九]</span><br><span class="line">王五</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p><strong>注意</strong></p>
<ol>
<li>查找之前需要先对切片进行排序</li>
</ol>
<h3 id="切片的扩容策略"><a href="#切片的扩容策略" class="headerlink" title="切片的扩容策略"></a>切片的扩容策略</h3><p>以下源码摘自<code>/src/runtime/slice.go</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">func growslice(et *_type, old slice, cap int) slice &#123;</span><br><span class="line">   //省略了不影响理解的部分代码</span><br><span class="line"></span><br><span class="line">   newcap := old.cap</span><br><span class="line">   doublecap := newcap + newcap</span><br><span class="line">   if cap &gt; doublecap &#123;</span><br><span class="line">      newcap = cap</span><br><span class="line">   &#125; else &#123;</span><br><span class="line">      if old.len &lt; 1024 &#123;</span><br><span class="line">         newcap = doublecap</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">         // Check 0 &lt; newcap to detect overflow</span><br><span class="line">         // and prevent an infinite loop.</span><br><span class="line">         for 0 &lt; newcap &amp;&amp; newcap &lt; cap &#123;</span><br><span class="line">            newcap += newcap / 4</span><br><span class="line">         &#125;</span><br><span class="line">         // Set newcap to the requested cap when</span><br><span class="line">         // the newcap calculation overflowed.</span><br><span class="line">         if newcap &lt;= 0 &#123;</span><br><span class="line">            newcap = cap</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">  //省略了不影响理解的部分代码</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>分析：</p>
<ol>
<li>首先判断，如果新申请容量（cap）大于2倍的旧容量（old.cap），最终容量（newcap）就是新申请的容量（cap）；</li>
<li>否则，如果旧切片的长度小于1024，则最终容量(newcap)就是旧容量(old.cap)的两倍，即（newcap=doublecap）；</li>
<li>否则，如果旧切片长度大于等于1024，则最终容量（newcap）从旧容量（old.cap）开始循环增加原来的1/4，即（newcap=old.cap,for {newcap += newcap/4}）直到最终容量（newcap）大于等于新申请的容量(cap)，即（newcap &gt;= cap）；</li>
<li>如果最终容量（cap）计算值溢出，则最终容量（cap）就是新申请容量（cap）。</li>
</ol>
<p>注意：</p>
<p>切片扩容还会根据切片中元素的类型不同而做不同的处理，比如<code>int</code>和<code>string</code>类型的处理方式就不一样。</p>

      
    </div>

    
    
    
	 
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://code81192.github.io/2021/08/15/golang/02_go%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%EF%BC%88%E4%B8%8B%EF%BC%89/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="赖柄沣">
      <meta itemprop="description" content="赖柄沣的技术博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="赖柄沣的技术博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/08/15/golang/02_go%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8%EF%BC%88%E4%B8%8B%EF%BC%89/" class="post-title-link" itemprop="url">go语言入门（下）</a>
        </h2>

        <div class="post-meta">
		
			
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2021-08-15 11:59:36 / 修改时间：14:14:58" itemprop="dateCreated datePublished" datetime="2021-08-15T11:59:36+08:00">2021-08-15</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Go常用命令总结"><a href="#Go常用命令总结" class="headerlink" title="Go常用命令总结"></a>Go常用命令总结</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">//查看当前机子上的go sdk版本</span><br><span class="line">go version </span><br><span class="line"></span><br><span class="line">//执行go程序</span><br><span class="line">go run filename.go </span><br><span class="line"></span><br><span class="line">//本地安装</span><br><span class="line">//它先编译源代码得到可执行文件，然后将可执行文件移动到GOPATH的bin目录下</span><br><span class="line">//不常用</span><br><span class="line">go install</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//编译当前目录下的go程序</span><br><span class="line">go build</span><br><span class="line"></span><br><span class="line">//编译指定模块的go程序，该模块必须在go工作目录下的src目录下</span><br><span class="line">go build helloWorld</span><br><span class="line"></span><br><span class="line">//指定可执行文件名称编译</span><br><span class="line">go -o filename build</span><br><span class="line"></span><br><span class="line">//跨平台编译</span><br><span class="line">//windows下编译linux可执行文件</span><br><span class="line">SET CGO_ENABLED=0  // 禁用CGO</span><br><span class="line">SET GOOS=linux  // 目标平台是linux</span><br><span class="line">SET GOARCH=amd64  // 目标处理器架构是amd64</span><br><span class="line">go build</span><br><span class="line"></span><br><span class="line">//Mac平台编译Linux可执行文件</span><br><span class="line">CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build</span><br></pre></td></tr></table></figure>

<h2 id="Go语言结构"><a href="#Go语言结构" class="headerlink" title="Go语言结构"></a>Go语言结构</h2><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">入口程序</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">//打印hello world</span></span><br><span class="line">	fmt.Println(<span class="string">&quot;Hello World !&quot;</span>)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Go 语言的基础组成有以下几个部分：</p>
<ul>
<li>包声明</li>
<li>引入包</li>
<li>函数</li>
<li>变量</li>
<li>语句 &amp; 表达式</li>
<li>注释</li>
</ul>
<h2 id="Go语言基础语法"><a href="#Go语言基础语法" class="headerlink" title="Go语言基础语法"></a>Go语言基础语法</h2><h3 id="行分隔符"><a href="#行分隔符" class="headerlink" title="行分隔符"></a>行分隔符</h3><p>以换行的方式分割语句，如果两条语句在同一行，则需要用；分割，但不建议这样做。</p>
<h3 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 行注释</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">段落注释</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h3 id="标识符"><a href="#标识符" class="headerlink" title="标识符"></a>标识符</h3><p>由字母数字下划线组成，但必须是字母或下划线开头，这与其他大多数语言一样。</p>
<h3 id="关键字"><a href="#关键字" class="headerlink" title="关键字"></a>关键字</h3><p>下面列举了 Go 代码中会使用到的 25 个关键字或保留字：</p>
<table>
<thead>
<tr>
<th>break</th>
<th>default</th>
<th>func</th>
<th>interface</th>
<th>select</th>
</tr>
</thead>
<tbody><tr>
<td>case</td>
<td>defer</td>
<td>go</td>
<td>map</td>
<td>struct</td>
</tr>
<tr>
<td>chan</td>
<td>else</td>
<td>goto</td>
<td>package</td>
<td>switch</td>
</tr>
<tr>
<td>const</td>
<td>fallthrough</td>
<td>if</td>
<td>range</td>
<td>type</td>
</tr>
<tr>
<td>continue</td>
<td>for</td>
<td>import</td>
<td>return</td>
<td>var</td>
</tr>
</tbody></table>
<p>除了以上介绍的这些关键字，Go 语言还有 36 个预定义标识符：</p>
<table>
<thead>
<tr>
<th>append</th>
<th>bool</th>
<th>byte</th>
<th>cap</th>
<th>close</th>
<th>complex</th>
<th>complex64</th>
<th>complex128</th>
<th>uint16</th>
</tr>
</thead>
<tbody><tr>
<td>copy</td>
<td>false</td>
<td>float32</td>
<td>float64</td>
<td>imag</td>
<td>int</td>
<td>int8</td>
<td>int16</td>
<td>uint32</td>
</tr>
<tr>
<td>int32</td>
<td>int64</td>
<td>iota</td>
<td>len</td>
<td>make</td>
<td>new</td>
<td>nil</td>
<td>panic</td>
<td>uint64</td>
</tr>
<tr>
<td>print</td>
<td>println</td>
<td>real</td>
<td>recover</td>
<td>string</td>
<td>true</td>
<td>uint</td>
<td>uint8</td>
<td>uintptr</td>
</tr>
</tbody></table>
<h2 id="Go语言数据类型"><a href="#Go语言数据类型" class="headerlink" title="Go语言数据类型"></a>Go语言数据类型</h2><h3 id="布尔类型"><a href="#布尔类型" class="headerlink" title="布尔类型"></a>布尔类型</h3><p>布尔型的值只可以是常量 true 或者 false。一个简单的例子：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> flag <span class="keyword">bool</span> = <span class="literal">false</span></span><br></pre></td></tr></table></figure>

<h3 id="数字类型"><a href="#数字类型" class="headerlink" title="数字类型"></a>数字类型</h3><p>包括int、float。Go 语言支持整型和浮点型数字，并且原生支持复数，其中位的运算采用补码。</p>
<h4 id="整型"><a href="#整型" class="headerlink" title="整型"></a>整型</h4><p>整型分为以下两个大类： 按长度分为：int8、int16、int32、int64 对应的无符号整型：uint8、uint16、uint32、uint64</p>
<p>其中，<code>uint8</code>就是我们熟知的<code>byte</code>型，<code>int16</code>对应C语言中的<code>short</code>型，<code>int64</code>对应C语言中的<code>long</code>型。</p>
<table>
<thead>
<tr>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>uint8</td>
<td>无符号 8位整型 (0 到 255)</td>
</tr>
<tr>
<td>uint16</td>
<td>无符号 16位整型 (0 到 65535)</td>
</tr>
<tr>
<td>uint32</td>
<td>无符号 32位整型 (0 到 4294967295)</td>
</tr>
<tr>
<td>uint64</td>
<td>无符号 64位整型 (0 到 18446744073709551615)</td>
</tr>
<tr>
<td>int8</td>
<td>有符号 8位整型 (-128 到 127)</td>
</tr>
<tr>
<td>int16</td>
<td>有符号 16位整型 (-32768 到 32767)</td>
</tr>
<tr>
<td>int32</td>
<td>有符号 32位整型 (-2147483648 到 2147483647)</td>
</tr>
<tr>
<td>int64</td>
<td>有符号 64位整型 (-9223372036854775808 到 9223372036854775807)</td>
</tr>
</tbody></table>
<h4 id="特殊整型"><a href="#特殊整型" class="headerlink" title="特殊整型"></a>特殊整型</h4><table>
<thead>
<tr>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>uint</td>
<td>32位操作系统上就是<code>uint32</code>，64位操作系统上就是<code>uint64</code></td>
</tr>
<tr>
<td>int</td>
<td>32位操作系统上就是<code>int32</code>，64位操作系统上就是<code>int64</code></td>
</tr>
<tr>
<td>uintptr</td>
<td>无符号整型，用于存放一个指针</td>
</tr>
</tbody></table>
<p><strong>注意：</strong> 在使用<code>int</code>和 <code>uint</code>类型时，不能假定它是32位或64位的整型，而是考虑<code>int</code>和<code>uint</code>可能在不同平台上的差异。</p>
<p>获取对象的长度的内建<code>len()</code>函数返回的长度可以根据不同平台的字节长度进行变化。实际使用中，切片或 map 的元素数量等都可以用<code>int</code>来表示。在涉及到二进制传输、读写文件的结构描述时，为了保持文件的结构不会受到不同编译目标平台字节长度的影响，不要使用<code>int</code>和 <code>uint</code>。</p>
<h4 id="数字字面量语法（Number-literals-syntax）"><a href="#数字字面量语法（Number-literals-syntax）" class="headerlink" title="数字字面量语法（Number literals syntax）"></a>数字字面量语法（Number literals syntax）</h4><p>Go1.13版本之后引入了数字字面量语法，这样便于开发者以二进制、八进制或十六进制浮点数的格式定义数字，例如：</p>
<p><code>v := 0b00101101</code>， 代表二进制的 101101，相当于十进制的 45。 <code>v := 0o377</code>，代表八进制的 377，相当于十进制的 255。 <code>v := 0x1p-2</code>，代表十六进制的 1 除以 2²，也就是 0.25。</p>
<p>而且还允许我们用 <code>_</code> 来分隔数字，比如说： <code>v := 123_456</code> 表示 v 的值等于 123456。</p>
<p>我们可以借助fmt函数来将一个整数以不同进制形式展示。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="comment">// 十进制</span></span><br><span class="line">	<span class="keyword">var</span> a <span class="keyword">int</span> = <span class="number">10</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;%d \n&quot;</span>, a)  <span class="comment">// 10</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;%b \n&quot;</span>, a)  <span class="comment">// 1010  占位符%b表示二进制</span></span><br><span class="line"> </span><br><span class="line">	<span class="comment">// 八进制  以0开头</span></span><br><span class="line">	<span class="keyword">var</span> b <span class="keyword">int</span> = <span class="number">077</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;%o \n&quot;</span>, b)  <span class="comment">// 77</span></span><br><span class="line"> </span><br><span class="line">	<span class="comment">// 十六进制  以0x开头</span></span><br><span class="line">	<span class="keyword">var</span> c <span class="keyword">int</span> = <span class="number">0xff</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;%x \n&quot;</span>, c)  <span class="comment">// ff</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;%X \n&quot;</span>, c)  <span class="comment">// FF</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="浮点型"><a href="#浮点型" class="headerlink" title="浮点型"></a>浮点型</h4><p>Go语言支持两种浮点型数：<code>float32</code>和<code>float64</code>。这两种浮点型数据格式遵循<code>IEEE 754</code>标准： <code>float32</code> 的浮点数的最大范围约为 <code>3.4e38</code>，可以使用常量定义：<code>math.MaxFloat32</code>。 <code>float64</code> 的浮点数的最大范围约为 <code>1.8e308</code>，可以使用一个常量定义：<code>math.MaxFloat64</code>。</p>
<p>打印浮点数时，可以使用<code>fmt</code>包配合动词<code>%f</code>，代码如下：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">        <span class="string">&quot;fmt&quot;</span></span><br><span class="line">        <span class="string">&quot;math&quot;</span></span><br><span class="line">)</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">        fmt.Printf(<span class="string">&quot;%f\n&quot;</span>, math.Pi)</span><br><span class="line">        fmt.Printf(<span class="string">&quot;%.2f\n&quot;</span>, math.Pi)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="复数类型"><a href="#复数类型" class="headerlink" title="复数类型"></a>复数类型</h4><p>包括complex64和complex128</p>
<p>复数有实部和虚部，complex64的实部和虚部为32位，complex128的实部和虚部为64位。</p>
<h3 id="字符串类型string"><a href="#字符串类型string" class="headerlink" title="字符串类型string"></a>字符串类型string</h3><p>Go的字符串是由单个字节连接起来的。Go语言的字符串的字节使用UTF-8编码标识Unicode文本。</p>
<h4 id="字符串操作"><a href="#字符串操作" class="headerlink" title="字符串操作"></a>字符串操作</h4><h5 id="字符串转义"><a href="#字符串转义" class="headerlink" title="字符串转义"></a>字符串转义</h5><p>Go 语言的字符串常见转义符包含回车、换行、单双引号、制表符等，如下表所示。</p>
<table>
<thead>
<tr>
<th>转义符</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td><code>\r</code></td>
<td>回车符（返回行首）</td>
</tr>
<tr>
<td><code>\n</code></td>
<td>换行符（直接跳到下一行的同列位置）</td>
</tr>
<tr>
<td><code>\t</code></td>
<td>制表符</td>
</tr>
<tr>
<td><code>\&#39;</code></td>
<td>单引号</td>
</tr>
<tr>
<td><code>\&quot;</code></td>
<td>双引号</td>
</tr>
<tr>
<td><code>\\</code></td>
<td>反斜杠</td>
</tr>
</tbody></table>
<h5 id="多行字符串"><a href="#多行字符串" class="headerlink" title="多行字符串"></a>多行字符串</h5><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> s = <span class="string">`</span></span><br><span class="line"><span class="string">第一行</span></span><br><span class="line"><span class="string">第二行</span></span><br><span class="line"><span class="string">第三行</span></span><br><span class="line"><span class="string">`</span></span><br></pre></td></tr></table></figure>

<h5 id="字符串的常用操作"><a href="#字符串的常用操作" class="headerlink" title="字符串的常用操作"></a>字符串的常用操作</h5><table>
<thead>
<tr>
<th>方法</th>
<th>介绍</th>
</tr>
</thead>
<tbody><tr>
<td>len(str)</td>
<td>求长度</td>
</tr>
<tr>
<td>+或fmt.Sprintf</td>
<td>拼接字符串</td>
</tr>
<tr>
<td>strings.Split</td>
<td>分割</td>
</tr>
<tr>
<td>strings.contains</td>
<td>判断是否包含</td>
</tr>
<tr>
<td>strings.HasPrefix,strings.HasSuffix</td>
<td>前缀/后缀判断</td>
</tr>
<tr>
<td>strings.Index(),strings.LastIndex()</td>
<td>子串出现的位置</td>
</tr>
<tr>
<td>strings.Join(a[]string, sep string)</td>
<td>join操作</td>
</tr>
</tbody></table>
<h5 id="字符类型-byte、rune"><a href="#字符类型-byte、rune" class="headerlink" title="字符类型 byte、rune"></a>字符类型 byte、rune</h5><p>Go 语言的字符有以下两种：</p>
<ol>
<li><code>uint8</code>类型，或者叫 byte 型，代表了<code>ASCII码</code>的一个字符。</li>
<li><code>rune</code>类型，代表一个 <code>UTF-8字符</code>。</li>
</ol>
<p>当需要处理复合字符比如中文时，则需要用到<code>rune</code>类型。<code>rune</code>类型实际是一个<code>int32</code>。</p>
<p>Go 使用了特殊的 rune 类型来处理 Unicode，让基于 Unicode 的文本处理更为方便，也可以使用 byte 型进行默认字符串处理，性能和扩展性都有照顾。</p>
<p>遍历字符串</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="comment">// 遍历字符串</span></span><br><span class="line">      s := <span class="string">&quot;hello你好&quot;</span></span><br><span class="line">      <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(s); i++ &#123; <span class="comment">//byte</span></span><br><span class="line">         fmt.Printf(<span class="string">&quot;%v(%c) &quot;</span>, s[i], s[i])</span><br><span class="line">      &#125;</span><br><span class="line">      fmt.Println()</span><br><span class="line">      <span class="keyword">for</span> _, r := <span class="keyword">range</span> s &#123; <span class="comment">//rune</span></span><br><span class="line">         fmt.Printf(<span class="string">&quot;%v(%c) &quot;</span>, r, r)</span><br><span class="line">      &#125;</span><br><span class="line">      fmt.Println()</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">104(h) 101(e) 108(l) 108(l) 111(o) 228(ä) 189(½) 160( ) 229(å) 165(¥) 189(½)</span><br><span class="line">104(h) 101(e) 108(l) 108(l) 111(o) 20320(你) 22909(好)</span><br></pre></td></tr></table></figure>

<p>因为UTF8编码下一个中文汉字由3~4个字节组成，所以我们不能简单的按照字节去遍历一个包含中文的字符串，否则就会出现上面输出中第一行的结果。</p>
<p>字符串底层是一个byte数组，所以可以和<code>[]byte</code>类型相互转换。字符串是不能修改的 ，字符串是由byte字节组成，所以字符串的长度是byte字节的长度。 rune类型用来表示utf8字符，一个rune字符由一个或多个byte组成。</p>
<h5 id="修改字符串"><a href="#修改字符串" class="headerlink" title="修改字符串"></a>修改字符串</h5><p>要修改字符串，需要先将其转换成<code>[]rune</code>或<code>[]byte</code>，完成后再转换为<code>string</code>。无论哪种转换，都会重新分配内存，并复制字节数组。</p>
<h3 id="类型转换"><a href="#类型转换" class="headerlink" title="类型转换"></a>类型转换</h3><p>Go语言中只有强制类型转换，没有隐式类型转换。该语法只能在两个类型之间支持相互转换的时候使用。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">T(表达式)</span><br></pre></td></tr></table></figure>



<h3 id="派生类型"><a href="#派生类型" class="headerlink" title="派生类型"></a>派生类型</h3><ul>
<li>指针类型（Pointer）</li>
<li> 数组类型</li>
<li>结构化类型(struct)</li>
<li>联合体类型 (union)</li>
<li> 函数类型</li>
<li>切片类型</li>
<li>接口类型（interface）</li>
<li>Map 类型</li>
<li>Channel 类型</li>
</ul>
<h2 id="变量声明"><a href="#变量声明" class="headerlink" title="变量声明"></a>变量声明</h2><h3 id="方式1"><a href="#方式1" class="headerlink" title="方式1"></a>方式1</h3><p>声明变量的一般形式是使用 var 关键字：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name <span class="keyword">type</span></span><br></pre></td></tr></table></figure>

<p>指定变量类型，声明后若不赋值，则使用默认值</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> v_name v_type</span><br><span class="line">v_name = value</span><br></pre></td></tr></table></figure>

<h3 id="方式2"><a href="#方式2" class="headerlink" title="方式2"></a>方式2</h3><p>根据值自行判定变量类型。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> v_name = value</span><br></pre></td></tr></table></figure>

<h3 id="方式3"><a href="#方式3" class="headerlink" title="方式3"></a>方式3</h3><p>省略var, 注意 :=左侧的变量不能是已经声明过的，否则会导致编译错误。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//短变量声明。只能在函数体使用</span></span><br><span class="line">c := <span class="number">10</span></span><br></pre></td></tr></table></figure>

<p>另外，go语言变量如果只是声明而不使用，编译也会报错</p>
<h3 id="多变量声明"><a href="#多变量声明" class="headerlink" title="多变量声明"></a>多变量声明</h3><h4 id="类型相同的多个变量"><a href="#类型相同的多个变量" class="headerlink" title="类型相同的多个变量"></a>类型相同的多个变量</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> vname1, vname2, vname3 <span class="keyword">type</span></span><br><span class="line">vname1, vname2, vname3 = v1, v2, v3</span><br><span class="line"></span><br><span class="line"><span class="comment">//自动类型推断</span></span><br><span class="line"><span class="keyword">var</span> vname1, vname2, vname3 = v1, v2, v3 </span><br><span class="line"></span><br><span class="line">vname1, vname2, vname3 := v1, v2, v3</span><br></pre></td></tr></table></figure>

<h3 id="类型不同多个变量"><a href="#类型不同多个变量" class="headerlink" title="类型不同多个变量"></a>类型不同多个变量</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//既可以声明局部变量，也可以声明全局变量</span></span><br><span class="line"><span class="keyword">var</span> (</span><br><span class="line">    <span class="keyword">var</span> name1 <span class="keyword">int8</span></span><br><span class="line">    <span class="keyword">var</span> flags <span class="keyword">bool</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//这种方式目前只能在函数体中使用</span></span><br><span class="line">name1, flag1 := <span class="string">&quot;zhangsan&quot;</span>, <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<h3 id="一个实例"><a href="#一个实例" class="headerlink" title="一个实例"></a>一个实例</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (<span class="string">&quot;fmt&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> (</span><br><span class="line">	name = <span class="string">&quot;zhangsan&quot;</span></span><br><span class="line">	age  = <span class="number">18</span></span><br><span class="line">	)</span><br><span class="line">	<span class="keyword">var</span> flags = <span class="literal">true</span></span><br><span class="line">	<span class="keyword">if</span> flags &#123;</span><br><span class="line">		fmt.Println(name)</span><br><span class="line">		fmt.Println(age)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="值类型"><a href="#值类型" class="headerlink" title="值类型"></a>值类型</h3><p>所有像 int、float、bool 和 string 这些基本类型都属于值类型，使用这些类型的变量直接指向存在内存中的值</p>
<p>当使用等号 <code>=</code> 将一个变量的值赋值给另一个变量时，如：<code>j = i</code>，实际上是在内存中将 i 的值进行了拷贝</p>
<p>你可以通过 &amp;name来获取变量 name的内存地址</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (<span class="string">&quot;fmt&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="keyword">var</span> (</span><br><span class="line">      name = <span class="string">&quot;zhangsan&quot;</span></span><br><span class="line">      age  = <span class="number">18</span></span><br><span class="line">   )</span><br><span class="line">   fmt.Println(name)</span><br><span class="line">   fmt.Println(age)</span><br><span class="line">   fmt.Print(<span class="string">&quot;name变量地址：&quot;</span> )</span><br><span class="line">   fmt.Print(&amp;name)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="F:\05_Go语言学习\笔记\02_go语言入门（下）.assets\1601272486793.png" alt="60127248679"></p>
<h3 id="引用类型"><a href="#引用类型" class="headerlink" title="引用类型"></a>引用类型</h3><p>一个引用类型的变量 r1 存储的是 r1 的值所在的内存地址（数字），或内存地址中第一个字所在的位置。这个内存地址为称之为指针，这个指针实际上也被存在另外的某一个字中。</p>
<p>当使用赋值语句 r2 = r1 时，只有引用（地址）被复制。</p>
<h3 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h3><p>如果你想要交换两个变量的值，则可以简单地使用 a, b = b, a。</p>
<p>空白标识符 _ 也被用于抛弃值，如值 5 在：_, b = 5, 7 中被抛弃。</p>
<p>_ 实际上是一个只写变量，你不能得到它的值。这样做是因为 Go 语言中你必须使用所有被声明的变量，但有时你并不需要使用从一个函数得到的所有返回值。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   <span class="comment">//只需要返回部分值 _ 用来接收不需要的值</span></span><br><span class="line">   _, age := people()</span><br><span class="line">   fmt.Println(age)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">people</span><span class="params">()</span><span class="params">(<span class="keyword">string</span>, <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">   <span class="keyword">return</span> <span class="string">&quot;zhangsan&quot;</span>, <span class="number">18</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在同一个作用域里面，不能重复声明同名变量（声明变量相当于申请内存空间给变量）</p>
<p>_ 可以重复声明使用。</p>
<h2 id="常量声明"><a href="#常量声明" class="headerlink" title="常量声明"></a>常量声明</h2><h3 id="const声明常量"><a href="#const声明常量" class="headerlink" title="const声明常量"></a>const声明常量</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">//常量在定义时必须赋值</span><br><span class="line">//它在程序运行期间是不可变的</span><br><span class="line">const identifier [type] = value</span><br></pre></td></tr></table></figure>

<p>多个相同类型的声明可以简写为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const c_name1, c_name2 = value1, value2</span><br></pre></td></tr></table></figure>

<p>用作枚举：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">const (</span><br><span class="line">    Unknown = 0</span><br><span class="line">    Female = 1</span><br><span class="line">    Male = 2</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>常量可以用len(), cap(), unsafe.Sizeof()常量计算表达式的值。常量表达式中，函数必须是内置函数，否则编译不过：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">   <span class="string">&quot;fmt&quot;</span></span><br><span class="line">   <span class="string">&quot;unsafe&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> (</span><br><span class="line">   name  = <span class="string">&quot;wangwu&quot;</span></span><br><span class="line">   nameLength = <span class="built_in">len</span>(name)</span><br><span class="line">   c = unsafe.Sizeof(nameLength)</span><br><span class="line">)</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>  &#123;</span><br><span class="line"> fmt.Println(c)</span><br><span class="line"> fmt.Println(nameLength)</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="iota-特殊常量（常量计数器、枚举）"><a href="#iota-特殊常量（常量计数器、枚举）" class="headerlink" title="iota 特殊常量（常量计数器、枚举）"></a>iota 特殊常量（常量计数器、枚举）</h3><p>iota，特殊常量，可以认为是一个可以被编译器修改的常量。</p>
<p>在每一个const关键字出现时，被重置为0，然后再下一个const出现之前，每新增一行声明，iota增加1</p>
<p>iota 可以被用作枚举值：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">const (</span><br><span class="line">    a = iota</span><br><span class="line">    b = iota</span><br><span class="line">    c = iota</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>第一个 iota 等于 0，每当 iota 在新的一行被使用时，它的值都会自动加 1；所以 a=0, b=1, c=2 可以简写为如下形式：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">const (</span><br><span class="line">    a = iota</span><br><span class="line">    //简写，相当于b = iota</span><br><span class="line">    b</span><br><span class="line">    c</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">   <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> (</span><br><span class="line">   <span class="comment">//a = 0</span></span><br><span class="line">   a = <span class="literal">iota</span></span><br><span class="line">   b</span><br><span class="line">   c</span><br><span class="line">   d = <span class="number">100</span></span><br><span class="line">   <span class="comment">//相当于 e = 100</span></span><br><span class="line">   e</span><br><span class="line">   f</span><br><span class="line">   <span class="comment">//重新开始计数</span></span><br><span class="line">   g = <span class="literal">iota</span></span><br><span class="line">)</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>  &#123;</span><br><span class="line">   fmt.Println(a)</span><br><span class="line">   fmt.Println(b)</span><br><span class="line">   fmt.Println(c)</span><br><span class="line">   fmt.Println(d)</span><br><span class="line">   fmt.Println(e)</span><br><span class="line">   fmt.Println(f)</span><br><span class="line">   fmt.Println(g)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>定义数量级 （这里的<code>&lt;&lt;</code>表示左移操作，<code>1&lt;&lt;10</code>表示将1的二进制表示向左移10位，也就是由<code>1</code>变成了<code>10000000000</code>，也就是十进制的1024。同理<code>2&lt;&lt;2</code>表示将2的二进制表示向左移2位，也就是由<code>10</code>变成了<code>1000</code>，也就是十进制的8。）</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> (</span><br><span class="line">		_  = <span class="literal">iota</span></span><br><span class="line">		KB = <span class="number">1</span> &lt;&lt; (<span class="number">10</span> * <span class="literal">iota</span>)</span><br><span class="line">		MB = <span class="number">1</span> &lt;&lt; (<span class="number">10</span> * <span class="literal">iota</span>)</span><br><span class="line">		GB = <span class="number">1</span> &lt;&lt; (<span class="number">10</span> * <span class="literal">iota</span>)</span><br><span class="line">		TB = <span class="number">1</span> &lt;&lt; (<span class="number">10</span> * <span class="literal">iota</span>)</span><br><span class="line">		PB = <span class="number">1</span> &lt;&lt; (<span class="number">10</span> * <span class="literal">iota</span>)</span><br><span class="line">	)</span><br></pre></td></tr></table></figure>

<p>多个<code>iota</code>定义在一行</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> (</span><br><span class="line">		a, b = <span class="literal">iota</span> + <span class="number">1</span>, <span class="literal">iota</span> + <span class="number">2</span> <span class="comment">//1,2</span></span><br><span class="line">		c, d                      <span class="comment">//2,3</span></span><br><span class="line">		e, f                      <span class="comment">//3,4</span></span><br><span class="line">	)</span><br></pre></td></tr></table></figure>

<h2 id="Go语言运算符"><a href="#Go语言运算符" class="headerlink" title="Go语言运算符"></a>Go语言运算符</h2><p>Go 语言内置的运算符有：</p>
<ul>
<li>算术运算符</li>
<li>关系运算符</li>
<li>逻辑运算符</li>
<li>位运算符</li>
<li>赋值运算符</li>
<li>其他运算符</li>
</ul>
<h3 id="算数运算符"><a href="#算数运算符" class="headerlink" title="算数运算符"></a>算数运算符</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">+ 相加</span><br><span class="line">- 相减</span><br><span class="line">* 相乘</span><br><span class="line">/ 相除</span><br><span class="line">% 取余</span><br><span class="line">++ 自增</span><br><span class="line">-- 自减</span><br></pre></td></tr></table></figure>

<h3 id="关系运算符"><a href="#关系运算符" class="headerlink" title="关系运算符"></a>关系运算符</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">== 等于</span><br><span class="line">！= 不等于</span><br><span class="line">&gt; 大于</span><br><span class="line">&lt; 小于</span><br><span class="line">&gt;= 大于等于</span><br><span class="line">&lt;= 小于等于</span><br></pre></td></tr></table></figure>

<h3 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&amp;&amp; 逻辑与</span><br><span class="line">|| 逻辑或</span><br><span class="line">！ 逻辑非</span><br></pre></td></tr></table></figure>

<h3 id="位运算符"><a href="#位运算符" class="headerlink" title="位运算符"></a>位运算符</h3><p>位运算符对整数在内存中的二进制位进行操作。</p>
<p>下表列出了位运算符 &amp;, |, 和 ^ 的计算：</p>
<table>
<thead>
<tr>
<th>p</th>
<th>q</th>
<th>p &amp; q</th>
<th>p | q</th>
<th>p ^ q</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>0</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>0</td>
</tr>
<tr>
<td>1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
</tr>
</tbody></table>
<p><strong><code>&lt;&lt;</code></strong> 左移运算符”&lt;&lt;”是双目运算符。左移n位就是乘以2的n次方。 其功能把”&lt;&lt;”左边的运算数的各二进位全部左移若干位，由”&lt;&lt;”右边的数指定移动的位数，高位丢弃，低位补0。</p>
<p>**<code>&gt;&gt;</code>**右移运算符”&gt;&gt;”是双目运算符。右移n位就是除以2的n次方。 其功能是把”&gt;&gt;”左边的运算数的各二进位全部右移若干位，”&gt;&gt;”右边的数指定移动的位数。</p>
<h3 id="赋值运算符"><a href="#赋值运算符" class="headerlink" title="赋值运算符"></a>赋值运算符</h3><h2 id="赋值运算符-1"><a href="#赋值运算符-1" class="headerlink" title="赋值运算符"></a>赋值运算符</h2><p>下表列出了所有Go语言的赋值运算符。</p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead>
<tbody><tr>
<td>=</td>
<td>简单的赋值运算符，将一个表达式的值赋给一个左值</td>
<td>C = A + B 将 A + B 表达式结果赋值给 C</td>
</tr>
<tr>
<td>+=</td>
<td>相加后再赋值</td>
<td>C += A 等于 C = C + A</td>
</tr>
<tr>
<td>-=</td>
<td>相减后再赋值</td>
<td>C -= A 等于 C = C - A</td>
</tr>
<tr>
<td>*=</td>
<td>相乘后再赋值</td>
<td>C *= A 等于 C = C * A</td>
</tr>
<tr>
<td>/=</td>
<td>相除后再赋值</td>
<td>C /= A 等于 C = C / A</td>
</tr>
<tr>
<td>%=</td>
<td>求余后再赋值</td>
<td>C %= A 等于 C = C % A</td>
</tr>
<tr>
<td>&lt;&lt;=</td>
<td>左移后赋值</td>
<td>C &lt;&lt;= 2 等于 C = C &lt;&lt; 2</td>
</tr>
<tr>
<td>&gt;&gt;=</td>
<td>右移后赋值</td>
<td>C &gt;&gt;= 2 等于 C = C &gt;&gt; 2</td>
</tr>
<tr>
<td>&amp;=</td>
<td>按位与后赋值</td>
<td>C &amp;= 2 等于 C = C &amp; 2</td>
</tr>
<tr>
<td>^=</td>
<td>按位异或后赋值</td>
<td>C ^= 2 等于 C = C ^ 2</td>
</tr>
<tr>
<td>|=</td>
<td>按位或后赋值</td>
<td>C |= 2 等于 C = C | 2</td>
</tr>
</tbody></table>
<h3 id="其他运算符"><a href="#其他运算符" class="headerlink" title="其他运算符"></a>其他运算符</h3><p>下表列出了Go语言的其他运算符。</p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead>
<tbody><tr>
<td>&amp;</td>
<td>返回变量存储地址</td>
<td>&a; 将给出变量的实际地址。</td>
</tr>
<tr>
<td>*</td>
<td>指针变量。</td>
<td>*a; 是一个指针变量</td>
</tr>
</tbody></table>
<h3 id="运算符优先级"><a href="#运算符优先级" class="headerlink" title="运算符优先级"></a>运算符优先级</h3><table>
<thead>
<tr>
<th>优先级</th>
<th>运算符</th>
</tr>
</thead>
<tbody><tr>
<td>7</td>
<td>^ !</td>
</tr>
<tr>
<td>6</td>
<td>* / % &lt;&gt; &amp; &amp;^</td>
</tr>
<tr>
<td>5</td>
<td>+ - | ^</td>
</tr>
<tr>
<td>4</td>
<td>== != &lt; = &gt;</td>
</tr>
<tr>
<td>3</td>
<td>&lt;-</td>
</tr>
<tr>
<td>2</td>
<td>&amp;&amp;</td>
</tr>
<tr>
<td>1</td>
<td>||</td>
</tr>
</tbody></table>
<p>除此之外，你可以用（）将对应表达式的运算符优先级整体提升。</p>

      
    </div>

    
    
    
	 
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://code81192.github.io/2021/08/15/golang/01_golang%E5%85%A5%E9%97%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="赖柄沣">
      <meta itemprop="description" content="赖柄沣的技术博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="赖柄沣的技术博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/08/15/golang/01_golang%E5%85%A5%E9%97%A8/" class="post-title-link" itemprop="url">Golang语言 序章</a>
        </h2>

        <div class="post-meta">
		
			
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2021-08-15 10:59:36 / 修改时间：14:08:50" itemprop="dateCreated datePublished" datetime="2021-08-15T10:59:36+08:00">2021-08-15</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="1-什么是go语言"><a href="#1-什么是go语言" class="headerlink" title="1. 什么是go语言"></a>1. 什么是go语言</h2><p><strong>Go</strong>（又称 <strong>Golang</strong>）是 Google 的 Robert Griesemer，Rob Pike 及 Ken Thompson 开发的一种静态 、强类型、编译型语言 。Go 语言语法与 C相近，但功能上有：内存安全，GC（垃圾回收），结构形态及 CSP-style 并发计算。</p>
<p>​                                                        ———–百度百科</p>
<p>Go 是一个开源的编程语言，它能让构造简单、可靠且高效的软件变得容易。</p>
<p>Go 语言被设计成一门应用于搭载 Web 服务器，存储集群或类似用途的巨型中央服务器的系统编程语言。</p>
<p>它是编译型语言。</p>
<p>它考虑了多核计算机的执行特点。（并行编程）</p>
<h2 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h2><ol>
<li>简单易学习</li>
<li>开发效率高</li>
<li>执行效率好（号称21世纪的C语言）</li>
</ol>
<p>兼具效率、性能、安全、健壮等特性</p>
<h2 id="应用领域"><a href="#应用领域" class="headerlink" title="应用领域"></a>应用领域</h2><ol>
<li>服务端开发：日志处理、文件系统、监控服务</li>
<li>容器虚拟化：Docker、k8s、Docker Swarm</li>
<li>存储：etcd、TiDB、GroupCache</li>
<li>Web开发：http/net、Gin、Echo</li>
<li>区块链：以太坊、fabric</li>
<li>云平台，目前国外很多云平台在采用Go开发，CloudFoundy的部分组建，前VMare的技术总监自己出来搞的apcera云平台。</li>
</ol>
<h2 id="成功的案例"><a href="#成功的案例" class="headerlink" title="成功的案例"></a>成功的案例</h2><ul>
<li>nsq：bitly开源的消息队列系统，性能非常高，目前他们每天处理数十亿条的消息</li>
<li>docker:基于lxc的一个虚拟打包工具，能够实现PAAS平台的组建。</li>
<li>packer:用来生成不同平台的镜像文件，例如VM、vbox、AWS等，作者是vagrant的作者</li>
<li>skynet：分布式调度框架</li>
<li>Doozer：分布式同步工具，类似ZooKeeper</li>
<li>Heka：mazila开源的日志处理系统</li>
<li>cbfs：couchbase开源的分布式文件系统</li>
<li>tsuru：开源的PAAS平台，和SAE实现的功能一模一样</li>
<li>groupcache：memcahe作者写的用于Google下载系统的缓存系统</li>
<li>god：类似redis的缓存系统，但是支持分布式和扩展性</li>
<li>gor：网络流量抓包和重放工具</li>
</ul>
<h2 id="语言环境安装"><a href="#语言环境安装" class="headerlink" title="语言环境安装"></a>语言环境安装</h2><p>在线下载：<a target="_blank" rel="noopener" href="https://golang.org/dl/">https://golang.org/dl/</a></p>
<p>配置go环境变量；</p>
<p><img src="https://raw.githubusercontent.com/code81192/art-demo/master/art-img/1601258721248.png" alt="60125872124"></p>
<p>cmd输入go version查看版本</p>
<p><img src="https://raw.githubusercontent.com/code81192/art-demo/master/art-img/1601257561739.png" alt="60125756173"></p>
<h2 id="Go语言的Hello-World"><a href="#Go语言的Hello-World" class="headerlink" title="Go语言的Hello World"></a>Go语言的Hello World</h2><p>创建一个go语言的工作空间</p>
<p><img src="https://raw.githubusercontent.com/code81192/art-demo/master/art-img/1601258608119.png" alt="60125860811"></p>
<p>新建src、pkg、bin三个目录</p>
<p>在src目录下新建demo.go文件</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">   fmt.Println(<span class="string">&quot;Hello World !&quot;</span>)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在该文件夹打开cmd 执行go demo.go</p>
<p><img src="https://raw.githubusercontent.com/code81192/art-demo/master/art-img/1601259334521.png" alt="60125933452"></p>
<h2 id="编译"><a href="#编译" class="headerlink" title="编译"></a>编译</h2><p><img src="https://raw.githubusercontent.com/code81192/art-demo/master/art-img/1601260414015.png" alt="60126041401"></p>
<p>输入dir查看目录文件</p>
<p><img src="https://raw.githubusercontent.com/code81192/art-demo/master/art-img/1601260535940.png" alt="60126053594"></p>
<p>会发现多了一个exe可执行文件，文件默认的名称是当前文件夹的名称</p>
<p>我们可以指定可执行文件名称编译</p>
<p><img src="https://raw.githubusercontent.com/code81192/art-demo/master/art-img/1601260732908.png" alt="60126073290"></p>
<p>跨平台编译</p>
<p>默认我们<code>go build</code>的可执行文件都是当前操作系统可执行的文件，如果需要编译其他平台的go可执行文件，需要先指定平台再编译</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SET CGO_ENABLED=0  // 禁用CGO，cgo不支持跨平台</span><br><span class="line">SET GOOS=linux  // 目标平台是linux</span><br><span class="line">SET GOARCH=amd64  // 目标处理器架构是amd64</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/code81192/art-demo/master/art-img/1601261881709.png" alt="60126188170"></p>
<p>使用sublime打开可以发现是一个二进制文件，拷贝到linux上即可执行</p>
<p>（在执行之前需要查看文件是否有执行权限，不然需要授权）</p>
<p><img src="https://raw.githubusercontent.com/code81192/art-demo/master/art-img/1601262422038.png" alt="60126242203"></p>
<h2 id="Go语言项目目录结构"><a href="#Go语言项目目录结构" class="headerlink" title="Go语言项目目录结构"></a>Go语言项目目录结构</h2><p><img src="https://raw.githubusercontent.com/code81192/art-demo/master/art-img/1601259247380.png" alt="60125924738"></p>
<h2 id="开发工具（IDE）"><a href="#开发工具（IDE）" class="headerlink" title="开发工具（IDE）"></a>开发工具（IDE）</h2><p>免费的VS Code（安装go插件）</p>
<p>收费的Goland</p>
<p>vim</p>
<p>等等</p>

      
    </div>

    
    
    
	 
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://code81192.github.io/2021/08/15/java/orm/fluent-mybatis%E5%88%9D%E4%BD%93%E9%AA%8C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="赖柄沣">
      <meta itemprop="description" content="赖柄沣的技术博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="赖柄沣的技术博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/08/15/java/orm/fluent-mybatis%E5%88%9D%E4%BD%93%E9%AA%8C/" class="post-title-link" itemprop="url">fluent mybatis初体验</a>
        </h2>

        <div class="post-meta">
		
			
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2021-08-15 10:59:35 / 修改时间：11:00:14" itemprop="dateCreated datePublished" datetime="2021-08-15T10:59:35+08:00">2021-08-15</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          
      
    </div>

    
    
    
	 
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://code81192.github.io/2021/08/13/hello-world/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="赖柄沣">
      <meta itemprop="description" content="赖柄沣的技术博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="赖柄沣的技术博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/08/13/hello-world/" class="post-title-link" itemprop="url">Hello World</a>
        </h2>

        <div class="post-meta">
		
			
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-08-13 22:29:42" itemprop="dateCreated datePublished" datetime="2021-08-13T22:29:42+08:00">2021-08-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：1985-10-26 16:15:00" itemprop="dateModified" datetime="1985-10-26T16:15:00+08:00">1985-10-26</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>

      
    </div>

    
    
    
	 
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="赖柄沣"
      src="/images/avatar.png">
  <p class="site-author-name" itemprop="name">赖柄沣</p>
  <div class="site-description" itemprop="description">赖柄沣的技术博客</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">9</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/code81192" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;code81192" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:bingfengdev@aliyun.com" title="E-Mail → mailto:bingfengdev@aliyun.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
      链接
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://juejin.cn/user/3148605263457992/columns" title="https:&#x2F;&#x2F;juejin.cn&#x2F;user&#x2F;3148605263457992&#x2F;columns" rel="noopener" target="_blank">我的掘金主页</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://www.cnblogs.com/bingfengdev/" title="https:&#x2F;&#x2F;www.cnblogs.com&#x2F;bingfengdev&#x2F;" rel="noopener" target="_blank">博客园</a>
        </li>
    </ul>
  </div>

      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2021-8 – 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">赖柄沣</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

<div class="theme-info">
  <div class="powered-by"></div>
  <span class="post-count">博客全站共14.4k字</span>
</div>




    <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

    <span id="busuanzi_container_site_pv">总访问量<span id="busuanzi_value_site_pv"></span>次</span>
    <span class="post-meta-divider">|</span>
    <span id="busuanzi_container_site_uv">总访客数<span id="busuanzi_value_site_uv"></span>人</span>
    <span class="post-meta-divider">|</span>
<!-- 不蒜子计数初始值纠正 -->
<script>
$(document).ready(function() {

    var int = setInterval(fixCount, 50);  // 50ms周期检测函数
    var countOffset = 0;  // 初始化首次数据

    function fixCount() {            
       if (document.getElementById("busuanzi_container_site_pv").style.display != "none")
        {
            $("#busuanzi_value_site_pv").html(parseInt($("#busuanzi_value_site_pv").html()) + countOffset); 
            clearInterval(int);
        }                  
        if ($("#busuanzi_container_site_pv").css("display") != "none")
        {
            $("#busuanzi_value_site_uv").html(parseInt($("#busuanzi_value_site_uv").html()) + countOffset); // 加上初始数据 
            clearInterval(int); // 停止检测
        }  
    }
       	
});
</script> 

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  
  <script color='0,0,255' opacity='0.5' zIndex='-1' count='99' src="/lib/canvas-nest/canvas-nest.min.js"></script>
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>


  <script defer src="/lib/three/three.min.js"></script>


  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>
